var TAAPP=TAAPP||{};TAAPP.env="production",function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;r.computed>o&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(r>n||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;i>n.call(r,e[u])?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);r>i;)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return 0===t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,0>=f?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=O(e[o],t[o],n,r)););}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)&&(o++,!(u=x.has(t,c)&&O(e[c],t[c],n,r))))break;if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),"function"!=typeof /./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){function n(e){function r(){i(),t=JSON.parse(JSON.stringify(e))}function i(){_.each(n.generic,function(n){n(e,t)})}function s(e,t){_.each(n.create,function(n){n(e,t)})}function o(e,t,r){_.each(n.update,function(n){n(e,t,r)})}function u(e,t){_.each(n["delete"],function(n){n(e,t)})}function a(){var n=t.length,i=e.length;if(n!=i||JSON.stringify(t)!=JSON.stringify(e)){var a=Math.max(i,n)-1;for(var f=a;f>=0;f--){var l=t[f],c=e[f];f>n-1?s(c,f):f>i-1?u(l,f):_.isEqual(c,l)||o(c,l,f)}r()}}var t=[],n={generic:[],create:[],update:[],"delete":[]};return e.pop=function(){a();var e=Array.prototype.pop.apply(this,arguments),t=this.length;return u(e,t),r(),e},e.push=function(){a();var e=arguments[0],t=Array.prototype.push.apply(this,arguments);return s(e,t-1),r(),t},e.reverse=function(){a();for(var e=this.length-1;e>=0;e--)u(this[e],e);var t=Array.prototype.reverse.apply(this,arguments);return _.each(this,s),r(),t},e.shift=function(){a();var e=Array.prototype.shift.apply(this,arguments);return u(e,0),r(),e},e.sort=function(){a();for(var e=this.length-1;e>=0;e--)u(this[e],e);var t=Array.prototype.sort.apply(this,arguments);return _.each(this,s),r(),t},e.splice=function(e,t){a();var n=Array.prototype.slice.call(arguments,2),i=Array.prototype.splice.apply(this,arguments);for(var o=i.length-1;o>=0;o--)u(i[o],e+o);return _.each(n,function(t,n){s(t,e+n)}),r(),i},e.unshift=function(){a();var e=arguments[0],t=Array.prototype.unshift.apply(this,arguments);return s(e,0),r(),t},setInterval(a,250),{unbind:function(e,t){},bind:function(r,i){n[r].push(i),r=="generic"?i(e,t):r=="create"&&_.each(e,i),t=JSON.parse(JSON.stringify(e))}}}var e=[],t=[];_.mixin({observe:function(r,i,s){if(!_.isArray(r))throw"subject should be a array";_.isFunction(i)&&(s=i,i="generic");var o=_.indexOf(e,r);if(o==-1){o=e.length,e.push(r);var u=new n(r);t.push(u)}return t[o].bind(i,s),r},unobserve:function(e,t,n){return e}}),typeof jQuery!="undefined"&&typeof jQuery.fn.insertAt=="undefined"&&(jQuery.fn.insertAt=function(t,n){return t===0?this.prepend(n):t<this.length-1?$(this[t]).before(n):this.append(n),this})}(),function(e,t){function n(n,r){function i(e){return u.preferFlash&&Pt&&!u.ignoreFlash&&u.flash[e]!==t&&u.flash[e]}function s(e){return function(t){var n=this._s;return!n||!n._a?(n&&n.id?u._wD(n.id+": Ignoring "+t.type):u._wD(l+"Ignoring "+t.type),t=null):t=e.call(this,t),t}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=r||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20130101",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var o,u=this,a=null,f=null,l="HTML5::",c,h=navigator.userAgent,p=e.location.href.toString(),d=document,v,m,y,b,w=[],E=!0,S,x=!1,T=!1,N=!1,C=!1,k=!1,L,A=0,O,M,_,D,P,H,B,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z=["log","info","warn","error"],et,tt,nt,rt=null,it=null,st,ot,ut,at,ft,lt,ct,ht,pt=!1,dt=!1,vt,mt,gt,yt=0,bt=null,wt,Et=[],St=null,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt=Array.prototype.slice,_t=!1,Dt,Pt,Ht,Bt,jt,Ft,It,qt=h.match(/(ipad|iphone|ipod)/i),Rt=h.match(/android/i),Ut=h.match(/msie/i),zt=h.match(/webkit/i),Wt=h.match(/safari/i)&&!h.match(/chrome/i),Xt=h.match(/opera/i),Vt=h.match(/(mobile|pre\/|xoom)/i)||qt||Rt,$t=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Wt&&!h.match(/silk/i)&&h.match(/OS X 10_6_([3-7])/i),Jt=e.console!==t&&console.log!==t,Kt=d.hasFocus!==t?d.hasFocus():null,Qt=Wt&&(d.hasFocus===t||!d.hasFocus()),Gt=!Qt,Yt=/(mp3|mp4|mpa|m4a|m4b)/i,Zt=d.location?d.location.protocol.match(/http/i):null,en=Zt?"":"http://",tn=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,nn="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),rn=RegExp("\\.("+nn.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Zt;var sn;try{sn=Audio!==t&&(Xt&&opera!==t&&10>opera.version()?new Audio(null):new Audio).canPlayType!==t}catch(on){sn=!1}this.hasHTML5=sn,this.setup=function(e){var n=!u.url;return e!==t&&N&&St&&u.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&ct(st("setupLate")),_(e),n&&$&&e.url!==t&&u.beginDelayedInit(),!$&&e.url!==t&&"complete"===d.readyState&&setTimeout(X,1),u},this.supported=this.ok=function(){return St?N&&!C:u.useHTML5Audio&&u.hasHTML5},this.getMovie=function(t){return c(t)||d[t]||e[t]},this.createSound=function(e,n){function r(){return s=ft(s),u.sounds[s.id]=new o(s),u.soundIDs.push(s.id),u.sounds[s.id]}var i,s;return i=null,i="soundManager.createSound(): "+st(N?"notOK":"notReady"),!N||!u.ok()?(ct(i),!1):(n!==t&&(e={id:e,url:n}),s=M(e),s.url=wt(s.url),s.id.toString().charAt(0).match(/^[0-9]$/)&&u._wD("soundManager.createSound(): "+st("badID",s.id),2),u._wD("soundManager.createSound(): "+s.id+" ("+s.url+")",1),ht(s.id,!0)?(u._wD("soundManager.createSound(): "+s.id+" exists",1),u.sounds[s.id]):(Tt(s)?(i=r(),u._wD(s.id+": Using HTML5"),i._setup_html5(s)):(8<b&&(null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(tn)||s.url.match(rn))),s.isMovieStar&&(u._wD("soundManager.createSound(): using MovieStar handling"),1<s.loops&&L("noNSLoop"))),s=lt(s,"soundManager.createSound(): "),i=r(),8===b?f._createSound(s.id,s.loops||1,s.usePolicyFile):(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),s.serverURL||(i.connected=!0,s.onconnect&&s.onconnect.apply(i))),!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)),!s.serverURL&&s.autoPlay&&i.play(),i))},this.destroySound=function(e,t){if(!ht(e))return!1;var n=u.sounds[e],r;n._iO={},n.stop(),n.unload();for(r=0;r<u.soundIDs.length;r++)if(u.soundIDs[r]===e){u.soundIDs.splice(r,1);break}return t||n.destruct(!0),delete u.sounds[e],!0},this.load=function(e,t){return ht(e)?u.sounds[e].load(t):!1},this.unload=function(e){return ht(e)?u.sounds[e].unload():!1},this.onposition=this.onPosition=function(e,t,n,r){return ht(e)?u.sounds[e].onposition(t,n,r):!1},this.clearOnPosition=function(e,t,n){return ht(e)?u.sounds[e].clearOnPosition(t,n):!1},this.start=this.play=function(e,t){var n=!1;return!N||!u.ok()?(ct("soundManager.play(): "+st(N?"notOK":"notReady")),n):ht(e)?u.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url&&(u._wD('soundManager.play(): attempting to create "'+e+'"',1),t.id=e,n=u.createSound(t).play()),n)},this.setPosition=function(e,t){return ht(e)?u.sounds[e].setPosition(t):!1},this.stop=function(e){return ht(e)?(u._wD("soundManager.stop("+e+")",1),u.sounds[e].stop()):!1},this.stopAll=function(){var e;u._wD("soundManager.stopAll()",1);for(e in u.sounds)u.sounds.hasOwnProperty(e)&&u.sounds[e].stop()},this.pause=function(e){return ht(e)?u.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=u.soundIDs.length-1;0<=e;e--)u.sounds[u.soundIDs[e]].pause()},this.resume=function(e){return ht(e)?u.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=u.soundIDs.length-1;0<=e;e--)u.sounds[u.soundIDs[e]].resume()},this.togglePause=function(e){return ht(e)?u.sounds[e].togglePause():!1},this.setPan=function(e,t){return ht(e)?u.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return ht(e)?u.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;e instanceof String&&(e=null);if(e)return ht(e)?(u._wD('soundManager.mute(): Muting "'+e+'"'),u.sounds[e].mute()):!1;u._wD("soundManager.mute(): Muting all sounds");for(t=u.soundIDs.length-1;0<=t;t--)u.sounds[u.soundIDs[t]].mute();return u.muted=!0},this.muteAll=function(){u.mute()},this.unmute=function(e){e instanceof String&&(e=null);if(e)return ht(e)?(u._wD('soundManager.unmute(): Unmuting "'+e+'"'),u.sounds[e].unmute()):!1;u._wD("soundManager.unmute(): Unmuting all sounds");for(e=u.soundIDs.length-1;0<=e;e--)u.sounds[u.soundIDs[e]].unmute();return u.muted=!1,!0},this.unmuteAll=function(){u.unmute()},this.toggleMute=function(e){return ht(e)?u.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return f&&8!==b&&(e=parseInt(f._getMemoryUse(),10)),e},this.disable=function(n){var r;n===t&&(n=!1);if(C)return!1;C=!0,L("shutdown",1);for(r=u.soundIDs.length-1;0<=r;r--)et(u.sounds[u.soundIDs[r]]);return O(n),Ot.remove(e,"load",B),!0},this.canPlayMIME=function(e){var t;return u.hasHTML5&&(t=Nt({type:e})),!t&&St&&(t=e&&u.ok()?!!(8<b&&e.match(tn)||e.match(u.mimePattern)):null),t},this.canPlayURL=function(e){var t;return u.hasHTML5&&(t=Nt({url:e})),!t&&St&&(t=e&&u.ok()?!!e.match(u.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&u.canPlayMIME(e.type)?!0:u.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw Error("soundManager.getSoundById(): sID is null/_undefined");var n=u.sounds[e];return!n&&!t&&u._wD('"'+e+'" is an invalid sound ID.',2),n},this.onready=function(t,n){if("function"!=typeof t)throw st("needFunction","onready");return N&&u._wD(st("queue","onready")),n||(n=e),P("onready",t,n),H(),!0},this.ontimeout=function(t,n){if("function"!=typeof t)throw st("needFunction","ontimeout");return N&&u._wD(st("queue","ontimeout")),n||(n=e),P("ontimeout",t,n),H({type:"ontimeout"}),!0},this._writeDebug=function(e,n){var r,i;if(!u.debugMode)return!1;if(Jt&&u.useConsole){n&&"object"==typeof n?console.log(e,n):Z[n]!==t?console[Z[n]](e):console.log(e);if(u.consoleOnly)return!0}return r=c("soundmanager-debug"),r?(i=d.createElement("div"),0===++A%2&&(i.className="sm2-alt"),n=n===t?0:parseInt(n,10),i.appendChild(d.createTextNode(e)),n&&(2<=n&&(i.style.fontWeight="bold"),3===n&&(i.style.color="#ff3333")),r.insertBefore(i,r.firstChild),!0):!1},-1!==p.indexOf("sm2-debug=alert")&&(this._writeDebug=function(t){e.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var e,t;L("currentObj",1),e=0;for(t=u.soundIDs.length;e<t;e++)u.sounds[u.soundIDs[e]]._debug()},this.reboot=function(t,n){u.soundIDs.length&&u._wD("Destroying "+u.soundIDs.length+" SMSound objects...");var r,i,s;for(r=u.soundIDs.length-1;0<=r;r--)u.sounds[u.soundIDs[r]].destruct();if(f)try{Ut&&(it=f.innerHTML),rt=f.parentNode.removeChild(f),L("flRemoved")}catch(o){L("badRemove",2)}it=rt=St=f=null,u.enabled=$=N=pt=dt=x=T=C=_t=u.swfLoaded=!1,u.soundIDs=[],u.sounds={};if(t)w=[];else for(r in w)if(w.hasOwnProperty(r)){i=0;for(s=w[r].length;i<s;i++)w[r][i].fired=!1}return n||u._wD("soundManager: Rebooting..."),u.html5={usingFlash:null},u.flash={},u.html5Only=!1,u.ignoreFlash=!1,e.setTimeout(function(){W(),n||u.beginDelayedInit()},20),u},this.reset=function(){return L("reset"),u.reboot(!0,!0)},this.getMoviePercent=function(){return f&&"PercentLoaded"in f?f.PercentLoaded():null},this.beginDelayedInit=function(){k=!0,X(),setTimeout(function(){return dt?!1:(K(),z(),dt=!0)},20),F()},this.destruct=function(){u._wD("soundManager.destruct()"),u.disable(!0)},o=function(e){var n,r,i=this,s,o,l,c,h,p,d=!1,v=[],m=0,y,w,E=null;r=n=null,this.sID=this.id=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=M(e),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){u._wD(i.id+": Merged options:",i.options)},this.load=function(e){var n=null;e!==t?i._iO=M(e,i.options):(e=i.options,i._iO=e,E&&E!==i.url&&(L("manURL"),i._iO.url=i.url,i.url=null)),i._iO.url||(i._iO.url=i.url),i._iO.url=wt(i._iO.url),e=i.instanceOptions=i._iO,u._wD(i.id+": load ("+e.url+")");if(e.url===i.url&&0!==i.readyState&&2!==i.readyState)return L("onURL",1),3===i.readyState&&e.onload&&e.onload.apply(i,[!!i.duration]),i;i.loaded=!1,i.readyState=1,i.playState=0,i.id3={};if(Tt(e))n=i._setup_html5(e),n._called_load?u._wD(i.id+": Ignoring request to load again"):(i._html5_canplay=!1,i.url!==e.url&&(u._wD(L("manURL")+": "+e.url),i._a.src=e.url,i.setPosition(0)),i._a.autobuffer="auto",i._a.preload="auto",i._a._called_load=!0,e.autoPlay&&i.play());else try{i.isHTML5=!1,i._iO=lt(ft(e)),e=i._iO,8===b?f._load(i.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):f._load(i.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(r){L("smError",2),S("onload",!1),Q({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return i.url=e.url,i},this.unload=function(){return 0!==i.readyState&&(u._wD(i.id+": unload()"),i.isHTML5?(c(),i._a&&(i._a.pause(),kt(i._a,"about:blank"),E="about:blank")):8===b?f._unload(i.id,"about:blank"):f._unload(i.id),s()),i},this.destruct=function(e){u._wD(i.id+": Destruct"),i.isHTML5?(c(),i._a&&(i._a.pause(),kt(i._a),_t||l(),i._a._s=null,i._a=null)):(i._iO.onfailure=null,f._destroySound(i.id)),e||u.destroySound(i.id,!0)},this.start=this.play=function(e,n){var r,s,o=!0,o=null;r=i.id+": play(): ",n=n===t?!0:n,e||(e={}),i.url&&(i._iO.url=i.url),i._iO=M(i._iO,i.options),i._iO=M(e,i._iO),i._iO.url=wt(i._iO.url),i.instanceOptions=i._iO;if(i._iO.serverURL&&!i.connected)return i.getAutoPlay()||(u._wD(r+" Netstream not connected yet - setting autoPlay"),i.setAutoPlay(!0)),i;Tt(i._iO)&&(i._setup_html5(i._iO),h()),1===i.playState&&!i.paused&&((s=i._iO.multiShot)?u._wD(r+"Already playing (multi-shot)",1):(u._wD(r+"Already playing (one-shot)",1),o=i));if(null!==o)return o;e.url&&e.url!==i.url&&i.load(i._iO),i.loaded?u._wD(r):0===i.readyState?(u._wD(r+"Attempting to load"),i.isHTML5||(i._iO.autoPlay=!0),i.load(i._iO),i.instanceOptions=i._iO):2===i.readyState?(u._wD(r+"Could not load - exiting",2),o=i):u._wD(r+"Loading - attempting to play...");if(null!==o)return o;!i.isHTML5&&9===b&&0<i.position&&i.position===i.duration&&(u._wD(r+"Sound at end, resetting to position:0"),e.position=0);if(i.paused&&0<=i.position&&(!i._iO.serverURL||0<i.position))u._wD(r+"Resuming from paused state",1),i.resume();else{i._iO=M(e,i._iO);if(null!==i._iO.from&&null!==i._iO.to&&0===i.instanceCount&&0===i.playState&&!i._iO.serverURL){s=function(){i._iO=M(e,i._iO),i.play(i._iO)},i.isHTML5&&!i._html5_canplay?(u._wD(r+"Beginning load for from/to case"),i.load({oncanplay:s}),o=!1):!i.isHTML5&&!i.loaded&&(!i.readyState||2!==i.readyState)&&(u._wD(r+"Preloading for from/to case"),i.load({onload:s}),o=!1);if(null!==o)return o;i._iO=w()}u._wD(r+"Starting to play"),(!i.instanceCount||i._iO.multiShotEvents||!i.isHTML5&&8<b&&!i.getAutoPlay())&&i.instanceCount++,i._iO.onposition&&0===i.playState&&p(i),i.playState=1,i.paused=!1,i.position=i._iO.position!==t&&!isNaN(i._iO.position)?i._iO.position:0,i.isHTML5||(i._iO=lt(ft(i._iO))),i._iO.onplay&&n&&(i._iO.onplay.apply(i),d=!0),i.setVolume(i._iO.volume,!0),i.setPan(i._iO.pan,!0),i.isHTML5?(h(),r=i._setup_html5(),i.setPosition(i._iO.position),r.play()):(o=f._start(i.id,i._iO.loops||1,9===b?i._iO.position:i._iO.position/1e3,i._iO.multiShot),9===b&&!o&&(u._wD(r+"No sound hardware, or 32-sound ceiling hit"),i._iO.onplayerror&&i._iO.onplayerror.apply(i)))}return i},this.stop=function(e){var t=i._iO;return 1===i.playState&&(u._wD(i.id+": stop()"),i._onbufferchange(0),i._resetOnPosition(0),i.paused=!1,i.isHTML5||(i.playState=0),y(),t.to&&i.clearOnPosition(t.to),i.isHTML5?i._a&&(e=i.position,i.setPosition(0),i.position=e,i._a.pause(),i.playState=0,i._onTimer(),c()):(f._stop(i.id,e),t.serverURL&&i.unload()),i.instanceCount=0,i._iO={},t.onstop&&t.onstop.apply(i)),i},this.setAutoPlay=function(e){u._wD(i.id+": Autoplay turned "+(e?"on":"off")),i._iO.autoPlay=e,i.isHTML5||(f._setAutoPlay(i.id,e),e&&!i.instanceCount&&1===i.readyState&&(i.instanceCount++,u._wD(i.id+": Incremented instance count to "+i.instanceCount)))},this.getAutoPlay=function(){return i._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var n=i.isHTML5?Math.max(e,0):Math.min(i.duration||i._iO.duration,Math.max(e,0));i.position=n,e=i.position/1e3,i._resetOnPosition(i.position),i._iO.position=n;if(i.isHTML5){if(i._a)if(i._html5_canplay){if(i._a.currentTime!==e){u._wD(i.id+": setPosition("+e+")");try{i._a.currentTime=e,(0===i.playState||i.paused)&&i._a.pause()}catch(r){u._wD(i.id+": setPosition("+e+") failed: "+r.message,2)}}}else u._wD(i.id+": setPosition("+e+"): Cannot seek yet, sound not ready")}else e=9===b?i.position:e,i.readyState&&2!==i.readyState&&f._setPosition(i.id,e,i.paused||!i.playState,i._iO.multiShot);return i.isHTML5&&i.paused&&i._onTimer(!0),i},this.pause=function(e){return i.paused||0===i.playState&&1!==i.readyState?i:(u._wD(i.id+": pause()"),i.paused=!0,i.isHTML5?(i._setup_html5().pause(),c()):(e||e===t)&&f._pause(i.id,i._iO.multiShot),i._iO.onpause&&i._iO.onpause.apply(i),i)},this.resume=function(){var e=i._iO;return i.paused?(u._wD(i.id+": resume()"),i.paused=!1,i.playState=1,i.isHTML5?(i._setup_html5().play(),h()):(e.isMovieStar&&!e.serverURL&&i.setPosition(i.position),f._pause(i.id,e.multiShot)),!d&&e.onplay?(e.onplay.apply(i),d=!0):e.onresume&&e.onresume.apply(i),i):i},this.togglePause=function(){return u._wD(i.id+": togglePause()"),0===i.playState?(i.play({position:9===b&&!i.isHTML5?i.position:i.position/1e3}),i):(i.paused?i.resume():i.pause(),i)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),i.isHTML5||f._setPan(i.id,e),i._iO.pan=e,n||(i.pan=e,i.options.pan=e),i},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),i.isHTML5?i._a&&(i._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(i.id,u.muted&&!i.muted||i.muted?0:e),i._iO.volume=e,n||(i.volume=e,i.options.volume=e),i},this.mute=function(){return i.muted=!0,i.isHTML5?i._a&&(i._a.muted=!0):f._setVolume(i.id,0),i},this.unmute=function(){i.muted=!1;var e=i._iO.volume!==t;return i.isHTML5?i._a&&(i._a.muted=!1):f._setVolume(i.id,e?i._iO.volume:i.options.volume),i},this.toggleMute=function(){return i.muted?i.unmute():i.mute()},this.onposition=this.onPosition=function(e,n,r){return v.push({position:parseInt(e,10),method:n,scope:r!==t?r:i,fired:!1}),i},this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<v.length;n++)e===v[n].position&&(!t||t===v[n].method)&&(v[n].fired&&m--,v.splice(n,1))},this._processOnPosition=function(){var e,t;e=v.length;if(!e||!i.playState||m>=e)return!1;for(e-=1;0<=e;e--)t=v[e],!t.fired&&i.position>=t.position&&(t.fired=!0,m++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,n;t=v.length;if(!t)return!1;for(t-=1;0<=t;t--)n=v[t],n.fired&&e<=n.position&&(n.fired=!1,m--);return!0},w=function(){var e=i._iO,t=e.from,n=e.to,r,s;return s=function(){u._wD(i.id+': "To" time of '+n+" reached."),i.clearOnPosition(n,s),i.stop()},r=function(){u._wD(i.id+': Playing "from" '+t),null!==n&&!isNaN(n)&&i.onPosition(n,s)},null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,r()),e},p=function(){var e,t=i._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&i.onPosition(parseInt(e,10),t[e])},y=function(){var e,t=i._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&i.clearOnPosition(parseInt(e,10))},h=function(){i.isHTML5&&vt(i)},c=function(){i.isHTML5&&mt(i)},s=function(e){e||(v=[],m=0),d=!1,i._hasTimer=null,i._a=null,i._html5_canplay=!1,i.bytesLoaded=null,i.bytesTotal=null,i.duration=i._iO&&i._iO.duration?i._iO.duration:null,i.durationEstimate=null,i.buffered=[],i.eqData=[],i.eqData.left=[],i.eqData.right=[],i.failures=0,i.isBuffering=!1,i.instanceOptions={},i.instanceCount=0,i.loaded=!1,i.metadata={},i.readyState=0,i.muted=!1,i.paused=!1,i.peakData={left:0,right:0},i.waveformData={left:[],right:[]},i.playState=0,i.position=null,i.id3={}},s(),this._onTimer=function(e){var t,s=!1,o={};if(i._hasTimer||e)return i._a&&(e||(0<i.playState||1===i.readyState)&&!i.paused)&&(t=i._get_html5_duration(),t!==n&&(n=t,i.duration=t,s=!0),i.durationEstimate=i.duration,t=1e3*i._a.currentTime||0,t!==r&&(r=t,s=!0),(s||e)&&i._whileplaying(t,o,o,o,o)),s},this._get_html5_duration=function(){var e=i._iO;return(e=i._a&&i._a.duration?1e3*i._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null},this._apply_loop=function(e,t){!e.loop&&1<t&&u._wD("Note: Native HTML5 looping is infinite.",1),e.loop=1<t?"loop":""},this._setup_html5=function(e){var e=M(i._iO,e),t=decodeURI,n=_t?a:i._a,r=t(e.url),u;_t?r===Dt&&(u=!0):r===E&&(u=!0);if(n){if(n._s)if(_t)n._s&&n._s.playState&&!u&&n._s.stop();else if(!_t&&r===t(E))return i._apply_loop(n,e.loops),n;u||(s(!1),n.src=e.url,Dt=E=i.url=e.url,n._called_load=!1)}else i._a=e.autoLoad||e.autoPlay?new Audio(e.url):Xt&&10>opera.version()?new Audio(null):new Audio,n=i._a,n._called_load=!1,_t&&(a=n);return i.isHTML5=!0,i._a=n,n._s=i,o(),i._apply_loop(n,e.loops),e.autoLoad||e.autoPlay?i.load():(n.autobuffer=!1,n.preload="auto"),n},o=function(){if(i._a._added_events)return!1;var e;i._a._added_events=!0;for(e in jt)jt.hasOwnProperty(e)&&i._a&&i._a.addEventListener(e,jt[e],!1);return!0},l=function(){var e;u._wD(i.id+": Removing event listeners"),i._a._added_events=!1;for(e in jt)jt.hasOwnProperty(e)&&i._a&&i._a.removeEventListener(e,jt[e],!1)},this._onload=function(e){var t=!!e||!i.isHTML5&&8===b&&i.duration,e=i.id+": ";return u._wD(e+(t?"onload()":"Failed to load? - "+i.url),t?1:2),!t&&!i.isHTML5&&(!0===u.sandbox.noRemote&&u._wD(e+st("noNet"),1),!0===u.sandbox.noLocal&&u._wD(e+st("noLocal"),1)),i.loaded=t,i.readyState=t?3:2,i._onbufferchange(0),i._iO.onload&&i._iO.onload.apply(i,[t]),!0},this._onbufferchange=function(e){return 0===i.playState||e&&i.isBuffering||!e&&!i.isBuffering?!1:(i.isBuffering=1===e,i._iO.onbufferchange&&(u._wD(i.id+": Buffer state change: "+e),i._iO.onbufferchange.apply(i)),!0)},this._onsuspend=function(){return i._iO.onsuspend&&(u._wD(i.id+": Playback suspended"),i._iO.onsuspend.apply(i)),!0},this._onfailure=function(e,t,n){i.failures++,u._wD(i.id+": Failures = "+i.failures),i._iO.onfailure&&1===i.failures?i._iO.onfailure(i,e,t,n):u._wD(i.id+": Ignoring failure")},this._onfinish=function(){var e=i._iO.onfinish;i._onbufferchange(0),i._resetOnPosition(0),i.instanceCount&&(i.instanceCount--,i.instanceCount||(y(),i.playState=0,i.paused=!1,i.instanceCount=0,i.instanceOptions={},i._iO={},c(),i.isHTML5&&(i.position=0)),(!i.instanceCount||i._iO.multiShotEvents)&&e)&&(u._wD(i.id+": onfinish()"),e.apply(i))},this._whileloading=function(e,t,n,r){var s=i._iO;i.bytesLoaded=e,i.bytesTotal=t,i.duration=Math.floor(n),i.bufferLength=r,i.durationEstimate=!i.isHTML5&&!s.isMovieStar?s.duration?i.duration>s.duration?i.duration:s.duration:parseInt(i.bytesTotal/i.bytesLoaded*i.duration,10):i.duration,i.isHTML5||(i.buffered=[{start:0,end:i.duration}]),(3!==i.readyState||i.isHTML5)&&s.whileloading&&s.whileloading.apply(i)},this._whileplaying=function(e,n,r,s,o){var u=i._iO;return isNaN(e)||null===e?!1:(i.position=Math.max(0,e),i._processOnPosition(),!i.isHTML5&&8<b&&(u.usePeakData&&n!==t&&n&&(i.peakData={left:n.leftPeak,right:n.rightPeak}),u.useWaveformData&&r!==t&&r&&(i.waveformData={left:r.split(","),right:s.split(",")}),u.useEQData&&o!==t&&o&&o.leftEQ&&(e=o.leftEQ.split(","),i.eqData=e,i.eqData.left=e,o.rightEQ!==t&&o.rightEQ&&(i.eqData.right=o.rightEQ.split(",")))),1===i.playState&&(!i.isHTML5&&8===b&&!i.position&&i.isBuffering&&i._onbufferchange(0),u.whileplaying&&u.whileplaying.apply(i)),!0)},this._oncaptiondata=function(e){u._wD(i.id+": Caption data received."),i.captiondata=e,i._iO.oncaptiondata&&i._iO.oncaptiondata.apply(i,[e])},this._onmetadata=function(e,t){u._wD(i.id+": Metadata received.");var n={},r,s;r=0;for(s=e.length;r<s;r++)n[e[r]]=t[r];i.metadata=n,i._iO.onmetadata&&i._iO.onmetadata.apply(i)},this._onid3=function(e,t){u._wD(i.id+": ID3 data received.");var n=[],r,s;r=0;for(s=e.length;r<s;r++)n[e[r]]=t[r];i.id3=M(i.id3,n),i._iO.onid3&&i._iO.onid3.apply(i)},this._onconnect=function(e){e=1===e,u._wD(i.id+": "+(e?"Connected.":"Failed to connect? - "+i.url),e?1:2);if(i.connected=e)i.failures=0,ht(i.id)&&(i.getAutoPlay()?i.play(t,i.getAutoPlay()):i._iO.autoLoad&&i.load()),i._iO.onconnect&&i._iO.onconnect.apply(i,[e])},this._ondataerror=function(e){0<i.playState&&(u._wD(i.id+": Data error: "+e),i._iO.ondataerror&&i._iO.ondataerror.apply(i))},this._debug()},J=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]},c=function(e){return d.getElementById(e)},M=function(e,n){var r=e||{},i,s;i=n===t?u.defaultOptions:n;for(s in i)i.hasOwnProperty(s)&&r[s]===t&&(r[s]="object"!=typeof i[s]||null===i[s]?i[s]:M(r[s],i[s]));return r},D={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},_=function(e,n){var r,i=!0,s=n!==t,o=u.setupOptions;if(e===t){i=[];for(r in o)o.hasOwnProperty(r)&&i.push(r);for(r in D)D.hasOwnProperty(r)&&("object"==typeof u[r]?i.push(r+": {...}"):u[r]instanceof Function?i.push(r+": function() {...}"):i.push(r));return u._wD(st("setup",i.join(", "))),!1}for(r in e)if(e.hasOwnProperty(r))if("object"!=typeof e[r]||null===e[r]||e[r]instanceof Array||e[r]instanceof RegExp)s&&D[n]!==t?u[n][r]=e[r]:o[r]!==t?(u.setupOptions[r]=e[r],u[r]=e[r]):D[r]===t?(ct(st(u[r]===t?"setupUndef":"setupError",r),2),i=!1):u[r]instanceof Function?u[r].apply(u,e[r]instanceof Array?e[r]:[e[r]]):u[r]=e[r];else{if(D[r]!==t)return _(e[r],r);ct(st(u[r]===t?"setupUndef":"setupError",r),2),i=!1}return i};var un=function(e){var e=Mt.call(e),t=e.length;return fn?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1),e},an=function(e,t){var n=e.shift(),r=[ln[t]];fn?n[r](e[0],e[1]):n[r].apply(n,e)},fn=e.attachEvent,ln={add:fn?"attachEvent":"addEventListener",remove:fn?"detachEvent":"removeEventListener"};Ot={add:function(){an(un(arguments),"add")},remove:function(){an(un(arguments),"remove")}},jt={abort:s(function(){u._wD(this._s.id+": abort")}),canplay:s(function(){var e=this._s,n;if(e._html5_canplay)return!0;e._html5_canplay=!0,u._wD(e.id+": canplay"),e._onbufferchange(0),n=e._iO.position!==t&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==n){u._wD(e.id+": canplay: Setting position to "+n);try{this.currentTime=n}catch(r){u._wD(e.id+": canplay: Setting position of "+n+" failed: "+r.message,2)}}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:s(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:s(function(){var e=this._s;u._wD(e.id+": ended"),e._onfinish()}),error:s(function(){u._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:s(function(){var e=this._s;u._wD(e.id+": loadeddata"),!e._loaded&&!Wt&&(e.duration=e._get_html5_duration())}),loadedmetadata:s(function(){u._wD(this._s.id+": loadedmetadata")}),loadstart:s(function(){u._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:s(function(){u._wD(this._s.id+": play()"),this._s._onbufferchange(0)}),playing:s(function(){u._wD(this._s.id+": playing"),this._s._onbufferchange(0)}),progress:s(function(e){var t=this._s,n,r,i;n=0;var s="progress"===e.type,o=e.target.buffered,a=e.loaded||0,f=e.total||1;t.buffered=[];if(o&&o.length){n=0;for(r=o.length;n<r;n++)t.buffered.push({start:1e3*o.start(n),end:1e3*o.end(n)});n=1e3*(o.end(0)-o.start(0)),a=n/(1e3*e.target.duration);if(s&&1<o.length){i=[],r=o.length;for(n=0;n<r;n++)i.push(1e3*e.target.buffered.start(n)+"-"+1e3*e.target.buffered.end(n));u._wD(this._s.id+": progress, timeRanges: "+i.join(", "))}s&&!isNaN(a)&&u._wD(this._s.id+": progress, "+Math.floor(100*a)+"% loaded")}isNaN(a)||(t._onbufferchange(0),t._whileloading(a,f,t._get_html5_duration()),a&&f&&a===f&&jt.canplaythrough.call(this,e))}),ratechange:s(function(){u._wD(this._s.id+": ratechange")}),suspend:s(function(e){var t=this._s;u._wD(this._s.id+": suspend"),jt.progress.call(this,e),t._onsuspend()}),stalled:s(function(){u._wD(this._s.id+": stalled")}),timeupdate:s(function(){this._s._onTimer()}),waiting:s(function(){var e=this._s;u._wD(this._s.id+": waiting"),e._onbufferchange(1)})},Tt=function(e){return e.serverURL||e.type&&i(e.type)?!1:e.type?Nt({type:e.type}):Nt({url:e.url})||u.html5Only},kt=function(e,t){e&&(e.src=t,e._called_load=!1),_t&&(Dt=null)},Nt=function(e){if(!u.useHTML5Audio||!u.hasHTML5)return!1;var n=e.url||null,e=e.type||null,r=u.audioFormats,s;if(e&&u.html5[e]!==t)return u.html5[e]&&!i(e);if(!Ct){Ct=[];for(s in r)r.hasOwnProperty(s)&&(Ct.push(s),r[s].related&&(Ct=Ct.concat(r[s].related)));Ct=RegExp("\\.("+Ct.join("|")+")(\\?.*)?$","i")}return s=n?n.toLowerCase().match(Ct):null,!s||!s.length?e&&(n=e.indexOf(";"),s=(-1!==n?e.substr(0,n):e).substr(6)):s=s[1],s&&u.html5[s]!==t?n=u.html5[s]&&!i(s):(e="audio/"+s,n=u.html5.canPlayType({type:e}),n=(u.html5[s]=n)&&u.html5[e]&&!i(e)),n},At=function(){function e(e){var t,r,i=t=!1;if(!n||"function"!=typeof n.canPlayType)return t;if(e instanceof Array){t=0;for(r=e.length;t<r;t++)if(u.html5[e[t]]||n.canPlayType(e[t]).match(u.html5Test))i=!0,u.html5[e[t]]=!0,u.flash[e[t]]=!!e[t].match(Yt);t=i}else e=n&&"function"==typeof n.canPlayType?n.canPlayType(e):!1,t=!!e&&!!e.match(u.html5Test);return t}if(!u.useHTML5Audio||!u.hasHTML5)return!1;var n=Audio!==t?Xt&&10>opera.version()?new Audio(null):new Audio:null,r,i,s={},o;o=u.audioFormats;for(r in o)if(o.hasOwnProperty(r)&&(i="audio/"+r,s[r]=e(o[r].type),s[i]=s[r],r.match(Yt)?(u.flash[r]=!0,u.flash[i]=!0):(u.flash[r]=!1,u.flash[i]=!1),o[r]&&o[r].related))for(i=o[r].related.length-1;0<=i;i--)s["audio/"+o[r].related[i]]=s[r],u.html5[o[r].related[i]]=s[r],u.flash[o[r].related[i]]=s[r];return s.canPlayType=n?e:null,u.html5=M(u.html5,s),!0},U={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:"soundManagerexception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+d.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for SWF to load with window focus...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:"soundManager: Waiting for 100% SWF load...",needFunction:"soundManager: Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"soundManager: _debug(): Current sound objects",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager: initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",didInit:"soundManager: init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"soundManager: Failed to remove Flash node.",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying .swf_timedout CSS...",fbLoaded:"Flash loaded",flRemoved:"soundManager: Flash movie removed.",fbHandler:"soundManager: flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:"soundManager: Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:"soundManager: Got window focus.",policy:"Enabling usePolicyFile for data access",setup:"soundManager.setup(): allowed parameters: %s",setupError:'soundManager.setup(): "%s" cannot be assigned with this method.',setupUndef:'soundManager.setup(): Could not find option "%s"',setupLate:"soundManager.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:"soundManager: Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:"soundManager.reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},st=function(){var e=Mt.call(arguments),t=e.shift(),t=U&&U[t]?U[t]:"",n,r;if(t&&e&&e.length){n=0;for(r=e.length;n<r;n++)t=t.replace("%s",e[n])}return t},ft=function(e){return 8===b&&1<e.loops&&e.stream&&(L("as2loop"),e.stream=!1),e},lt=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(u._wD((t||"")+st("policy")),e.usePolicyFile=!0),e},ct=function(e){console!==t&&console.warn!==t?console.warn(e):u._wD(e)},v=function(){return!1},et=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)},tt=function(e){e===t&&(e=!1),(C||e)&&u.disable(e)},nt=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+u.movieURL,u.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},q=function(){b=parseInt(u.flashVersion,10),8!==b&&9!==b&&(u._wD(st("badFV",b,8)),u.flashVersion=b=8);var e=u.debugMode||u.debugFlash?"_debug.swf":".swf";u.useHTML5Audio&&!u.html5Only&&u.audioFormats.mp4.required&&9>b&&(u._wD(st("needfl9")),u.flashVersion=b=9),u.version=u.versionNumber+(u.html5Only?" (HTML5-only mode)":9===b?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<b?(u.defaultOptions=M(u.defaultOptions,u.flash9Options),u.features.buffering=!0,u.defaultOptions=M(u.defaultOptions,u.movieStarOptions),u.filePatterns.flash9=RegExp("\\.(mp3|"+nn.join("|")+")(\\?.*)?$","i"),u.features.movieStar=!0):u.features.movieStar=!1,u.filePattern=u.filePatterns[8!==b?"flash9":"flash8"],u.movieURL=(8===b?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),u.features.peakData=u.features.waveformData=u.features.eqData=8<b},G=function(e,t){if(!f)return!1;f._setPolling(e,t)},Y=function(){u.debugURLParam.test(p)&&(u.debugMode=!0);if(c(u.debugID))return!1;var e,t,n,r;if(u.debugMode&&!c(u.debugID)&&(!Jt||!u.useConsole||!u.consoleOnly)){e=d.createElement("div"),e.id=u.debugID+"-toggle",t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(d.createTextNode("-")),e.onclick=at,e.title="Toggle SM2 debug console",h.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r]);t=d.createElement("div"),t.id=u.debugID,t.style.display=u.debugMode?"block":"none";if(u.debugMode&&!c(e.id)){try{n=J(),n.appendChild(e)}catch(i){throw Error(st("domError")+" \n"+i.toString())}n.appendChild(t)}}},ht=this.getSoundById,L=function(e,t){return e?u._wD(st(e),t):""},at=function(){var e=c(u.debugID),t=c(u.debugID+"-toggle");if(!e)return!1;E?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),E=!E},S=function(n,r,i){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,r,i)}catch(s){}return!0},ut=function(){var e=[];return u.debugMode&&e.push("sm2_debug"),u.debugFlash&&e.push("flash_debug"),u.useHighPerformance&&e.push("high_performance"),e.join(" ")},ot=function(){var e=st("fbHandler"),t=u.getMoviePercent(),n={type:"FLASHBLOCK"};if(u.html5Only)return!1;u.ok()?(u.didFlashBlock&&u._wD(e+": Unblocked"),u.oMC&&(u.oMC.className=[ut(),"movieContainer","swf_loaded"+(u.didFlashBlock?" swf_unblocked":"")].join(" "))):(St&&(u.oMC.className=ut()+" movieContainer "+(null===t?"swf_timedout":"swf_error"),u._wD(e+": "+st("fbTimeout")+(t?" ("+st("fbLoaded")+")":""))),u.didFlashBlock=!0,H({type:"ontimeout",ignoreInit:!0,error:n}),Q(n))},P=function(e,n,r){w[e]===t&&(w[e]=[]),w[e].push({method:n,scope:r||null,fired:!1})},H=function(e){e||(e={type:u.ok()?"onready":"ontimeout"});if(!N&&e&&!e.ignoreInit||"ontimeout"===e.type&&(u.ok()||C&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?u.ok():!C},n=e&&e.type?w[e.type]||[]:[],r=[],i,t=[t],s=St&&!u.ok();e.error&&(t[0].error=e.error),e=0;for(i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length){e=0;for(i=r.length;e<i;e++)r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),s||(r[e].fired=!0)}return!0},B=function(){e.setTimeout(function(){u.useFlashBlock&&ot(),H(),"function"==typeof u.onload&&(L("onload",1),u.onload.apply(e),L("onloadOK",1)),u.waitForWindowLoad&&Ot.add(e,"load",B)},1)},Ht=function(){if(Pt!==t)return Pt;var n=!1,r=navigator,i=r.plugins,s,o=e.ActiveXObject;if(i&&i.length)(r=r.mimeTypes)&&r["application/x-shockwave-flash"]&&r["application/x-shockwave-flash"].enabledPlugin&&r["application/x-shockwave-flash"].enabledPlugin.description&&(n=!0);else if(o!==t&&!h.match(/MSAppHost/i)){try{s=new o("ShockwaveFlash.ShockwaveFlash")}catch(u){}n=!!s}return Pt=n},xt=function(){var e,t,n=u.audioFormats;if(qt&&h.match(/os (1|2|3_0|3_1)/i))u.hasHTML5=!1,u.html5Only=!0,u.oMC&&(u.oMC.style.display="none");else if(u.useHTML5Audio){if(!u.html5||!u.html5.canPlayType)u._wD("SoundManager: No HTML5 Audio() support detected."),u.hasHTML5=!1;$t&&u._wD("soundManager: Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(Pt?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)}if(u.useHTML5Audio&&u.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!u.html5.canPlayType(n[t].type)||u.preferFlash&&(u.flash[t]||u.flash[n[t].type]))&&(e=!0);return u.ignoreFlash&&(e=!1),u.html5Only=u.hasHTML5&&u.useHTML5Audio&&!e,!u.html5Only},wt=function(e){var t,n,r=0;if(e instanceof Array){t=0;for(n=e.length;t<n;t++)if(e[t]instanceof Object){if(u.canPlayMIME(e[t].type)){r=t;break}}else if(u.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url),e=e[r]}return e},vt=function(t){t._hasTimer||(t._hasTimer=!0,!Vt&&u.html5PollingInterval&&(null===bt&&0===yt&&(bt=e.setInterval(gt,u.html5PollingInterval)),yt++))},mt=function(e){e._hasTimer&&(e._hasTimer=!1,!Vt&&u.html5PollingInterval&&yt--)},gt=function(){var t;if(null!==bt&&!yt)return e.clearInterval(bt),bt=null,!1;for(t=u.soundIDs.length-1;0<=t;t--)u.sounds[u.soundIDs[t]].isHTML5&&u.sounds[u.soundIDs[t]]._hasTimer&&u.sounds[u.soundIDs[t]]._onTimer()},Q=function(n){n=n!==t?n:{},"function"==typeof u.onerror&&u.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&u.disable()},Bt=function(){if(!$t||!Ht())return!1;var e=u.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(u._wD("soundManager: Using flash fallback for "+n+" format"),u.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)u.html5[e[n].related[t]]=!1},this._setSandboxType=function(e){var n=u.sandbox;n.type=e,n.description=n.types[n.types[e]!==t?e:"unknown"],"localWithFile"===n.type?(n.noRemote=!0,n.noLocal=!1,L("secNote",2)):"localWithNetwork"===n.type?(n.noRemote=!1,n.noLocal=!0):"localTrusted"===n.type&&(n.noRemote=!1,n.noLocal=!1)},this._externalInterfaceOK=function(e,t){if(u.swfLoaded)return!1;var n;S("swf",!0),S("flashtojs",!0),u.swfLoaded=!0,Qt=!1,$t&&Bt();if(!t||t.replace(/\+dev/i,"")!==u.versionNumber.replace(/\+dev/i,""))return n='soundManager: Fatal: JavaScript file build "'+u.versionNumber+'" does not match Flash SWF build "'+t+'" at '+u.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(n)},0),!1;setTimeout(y,Ut?100:1)},K=function(e,n){function r(){var e=[],t,n=[];t="SoundManager "+u.version+(!u.html5Only&&u.useHTML5Audio?u.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),u.html5Only?u.html5PollingInterval&&e.push("html5PollingInterval ("+u.html5PollingInterval+"ms)"):(u.preferFlash&&e.push("preferFlash"),u.useHighPerformance&&e.push("useHighPerformance"),u.flashPollingInterval&&e.push("flashPollingInterval ("+u.flashPollingInterval+"ms)"),u.html5PollingInterval&&e.push("html5PollingInterval ("+u.html5PollingInterval+"ms)"),u.wmode&&e.push("wmode ("+u.wmode+")"),u.debugFlash&&e.push("debugFlash"),u.useFlashBlock&&e.push("flashBlock")),e.length&&(n=n.concat([e.join(" + ")])),u._wD(t+(n.length?" + "+n.join(", "):""),1),Ft()}function i(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(x&&T)return!1;if(u.html5Only)return q(),r(),u.oMC=c(u.movieID),y(),T=x=!0,!1;var s=n||u.url,o=u.altURL||s,a=J(),f=ut(),l=null,l=d.getElementsByTagName("html")[0],p,v,m,l=l&&l.dir&&l.dir.match(/rtl/i),e=e===t?u.id:e;q(),u.url=nt(Zt?s:o),n=u.url,u.wmode=!u.wmode&&u.useHighPerformance?"transparent":u.wmode,null!==u.wmode&&(h.match(/msie 8/i)||!Ut&&!u.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Et.push(U.spcWmode),u.wmode=null),a={name:e,id:e,src:n,quality:"high",allowScriptAccess:u.allowScriptAccess,bgcolor:u.bgColor,pluginspage:en+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:u.wmode,hasPriority:"true"},u.debugFlash&&(a.FlashVars="debug=1"),u.wmode||delete a.wmode;if(Ut)s=d.createElement("div"),v=['<object id="'+e+'" data="'+n+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+en+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",u.allowScriptAccess),i("quality",a.quality),u.wmode?i("wmode",u.wmode):"",i("bgcolor",u.bgColor),i("hasPriority","true"),u.debugFlash?i("FlashVars",a.FlashVars):"","</object>"].join("");else for(p in s=d.createElement("embed"),a)a.hasOwnProperty(p)&&s.setAttribute(p,a[p]);Y(),f=ut();if(a=J())if(u.oMC=c(u.movieID)||d.createElement("div"),u.oMC.id)m=u.oMC.className,u.oMC.className=(m?m+" ":"movieContainer")+(f?" "+f:""),u.oMC.appendChild(s),Ut&&(p=u.oMC.appendChild(d.createElement("div")),p.className="sm2-object-box",p.innerHTML=v),T=!0;else{u.oMC.id=u.movieID,u.oMC.className="movieContainer "+f,p=f=null,u.useFlashBlock||(u.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},l&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),zt&&(u.oMC.style.zIndex=1e4);if(!u.debugFlash)for(m in f)f.hasOwnProperty(m)&&(u.oMC.style[m]=f[m]);try{Ut||u.oMC.appendChild(s),a.appendChild(u.oMC),Ut&&(p=u.oMC.appendChild(d.createElement("div")),p.className="sm2-object-box",p.innerHTML=v),T=!0}catch(b){throw Error(st("domError")+" \n"+b.toString())}}return x=!0,r(),!0},z=function(){return u.html5Only?(K(),!1):f?!1:u.url?(f=u.getMovie(u.id),f||(rt?(Ut?u.oMC.innerHTML=it:u.oMC.appendChild(rt),rt=null,x=!0):K(u.id,u.url),f=u.getMovie(u.id)),"function"==typeof u.oninitmovie&&setTimeout(u.oninitmovie,1),It(),!0):(L("noURL"),!1)},F=function(){setTimeout(I,1e3)},I=function(){var t,n=!1;if(!u.url||pt)return!1;pt=!0,Ot.remove(e,"load",F);if(Qt&&!Kt)return L("waitFocus"),!1;N||(t=u.getMoviePercent(),0<t&&100>t&&(n=!0)),setTimeout(function(){t=u.getMoviePercent();if(n)return pt=!1,u._wD(st("waitSWF")),e.setTimeout(F,1),!1;N||(u._wD("soundManager: No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(u.debugFlash?" "+st("checkSWF"):""),2),!Zt&&t&&(L("localFail",2),u.debugFlash||L("tryDebug",2)),0===t&&u._wD(st("swf404",u.url),1),S("flashtojs",!1,": Timed out"+Zt?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")),!N&&Gt&&(null===t?u.useFlashBlock||0===u.flashLoadTimeout?(u.useFlashBlock&&ot(),L("waitForever")):(L("waitForever"),H({type:"ontimeout",ignoreInit:!0})):0===u.flashLoadTimeout?L("waitForever"):tt(!0))},u.flashLoadTimeout)},R=function(){return Kt||!Qt?(Ot.remove(e,"focus",R),!0):(Kt=Gt=!0,L("gotFocus"),pt=!1,F(),Ot.remove(e,"focus",R),!0)},It=function(){Et.length&&(u._wD("SoundManager 2: "+Et.join(" "),1),Et=[])},Ft=function(){It();var e,t=[];if(u.useHTML5Audio&&u.hasHTML5){for(e in u.audioFormats)u.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+u.html5[e]+(!u.html5[e]&&Pt&&u.flash[e]?" (using flash)":u.preferFlash&&u.flash[e]&&Pt?" (preferring flash)":u.html5[e]?"":" ("+(u.audioFormats[e].required?"required, ":"")+"and no flash support)"));u._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},O=function(t){if(N)return!1;if(u.html5Only)return L("sm2Loaded"),N=!0,B(),S("onload",!0),!0;var n=!0,r;if(!u.useFlashBlock||!u.flashLoadTimeout||u.getMoviePercent())N=!0,C&&(r={type:!Pt&&St?"NO_FLASH":"INIT_TIMEOUT"});return u._wD("SoundManager 2 "+(C?"failed to load":"loaded")+" ("+(C?"Flash security/load error":"OK")+")",C?2:1),C||t?(u.useFlashBlock&&u.oMC&&(u.oMC.className=ut()+" "+(null===u.getMoviePercent()?"swf_timedout":"swf_error")),H({type:"ontimeout",error:r,ignoreInit:!0}),S("onload",!1),Q(r),n=!1):S("onload",!0),C||(u.waitForWindowLoad&&!k?(L("waitOnload"),Ot.add(e,"load",B)):(u.waitForWindowLoad&&k&&L("docLoaded"),B())),n},m=function(){var e,n=u.setupOptions;for(e in n)n.hasOwnProperty(e)&&(u[e]===t?u[e]=n[e]:u[e]!==n[e]&&(u.setupOptions[e]=u[e]))},y=function(){if(N)return L("didInit"),!1;if(u.html5Only)return N||(Ot.remove(e,"load",u.beginDelayedInit),u.enabled=!0,O()),!0;z();try{f._externalInterfaceTest(!1),G(!0,u.flashPollingInterval||(u.useHighPerformance?10:50)),u.debugMode||f._disableDebug(),u.enabled=!0,S("jstoflash",!0),u.html5Only||Ot.add(e,"unload",v)}catch(t){return u._wD("js/flash exception: "+t.toString()),S("jstoflash",!1),Q({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),tt(!0),O(),!1}return O(),Ot.remove(e,"load",u.beginDelayedInit),!0},X=function(){if($)return!1;$=!0,m(),Y();var n=null,n=null,r=e.console!==t&&"function"==typeof console.log,i=p.toLowerCase();return-1!==i.indexOf("sm2-usehtml5audio=")&&(n="1"===i.charAt(i.indexOf("sm2-usehtml5audio=")+18),r&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),u.setup({useHTML5Audio:n})),-1!==i.indexOf("sm2-preferflash=")&&(n="1"===i.charAt(i.indexOf("sm2-preferflash=")+16),r&&console.log((n?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),u.setup({preferFlash:n})),!Pt&&u.hasHTML5&&(u._wD("SoundManager: No Flash detected"+(u.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),u.setup({useHTML5Audio:!0,preferFlash:!1})),At(),u.html5.usingFlash=xt(),St=u.html5.usingFlash,!Pt&&St&&(Et.push(U.needFlash),u.setup({flashLoadTimeout:1})),d.removeEventListener&&d.removeEventListener("DOMContentLoaded",X,!1),z(),!0},Lt=function(){return"complete"===d.readyState&&(X(),d.detachEvent("onreadystatechange",Lt)),!0},V=function(){k=!0,Ot.remove(e,"load",V)},W=function(){Vt&&((!u.setupOptions.useHTML5Audio||u.setupOptions.preferFlash)&&Et.push(U.mobileUA),u.setupOptions.useHTML5Audio=!0,u.setupOptions.preferFlash=!1,qt||Rt&&!h.match(/android\s2\.3/i))&&(Et.push(U.globalHTML5),qt&&(u.ignoreFlash=!0),_t=!0)},W(),Ht(),Ot.add(e,"focus",R),Ot.add(e,"load",F),Ot.add(e,"load",V),d.addEventListener?d.addEventListener("DOMContentLoaded",X,!1):d.attachEvent?d.attachEvent("onreadystatechange",Lt):(S("onload",!1),Q({type:"NO_DOM2_EVENTS",fatal:!0}))}var r=null;if(void 0===e.SM2_DEFER||!SM2_DEFER)r=new n;e.SoundManager=n,e.soundManager=r}(window),function(e){function t(e,t){var n=typeof e[t];return n==="function"||n=="object"&&!!e[t]||n=="unknown"}function n(e,t,n){return t<0&&(t+=e.value.length),typeof n=="undefined"&&(n=t),n<0&&(n+=e.value.length),{start:t,end:n}}function r(){return typeof document.body=="object"&&document.body?document.body:document.getElementsByTagName("body")[0]}var i,s,o,u,a,f,l,c,h;e(document).ready(function(){function d(e,t){return function(){var n=this.jquery?this[0]:this,r=n.nodeName.toLowerCase();if(n.nodeType==1&&(r=="textarea"||r=="input"&&n.type=="text")){n=[n].concat(Array.prototype.slice.call(arguments)),n=e.apply(this,n);if(!t)return n}if(t)return this}}var v=document.createElement("textarea");r().appendChild(v);if(typeof v.selectionStart!="undefined"&&typeof v.selectionEnd!="undefined")i=function(e){return{start:e.selectionStart,end:e.selectionEnd,length:e.selectionEnd-e.selectionStart,text:e.value.slice(e.selectionStart,e.selectionEnd)}},s=function(e,t,r){t=n(e,t,r),e.selectionStart=t.start,e.selectionEnd=t.end},h=function(e,t){t?e.selectionEnd=e.selectionStart:e.selectionStart=e.selectionEnd};else{if(!(t(v,"createTextRange")&&typeof document.selection=="object"&&document.selection&&t(document.selection,"createRange"))){r().removeChild(v),window.console&&window.console.log&&window.console.log("TextInputs module for Rangy not supported in your browser. Reason: No means of finding text input caret position");return}i=function(e){var t=0,n=0,r,i,s;return(s=document.selection.createRange())&&s.parentElement()==e&&(i=e.value.length,r=e.value.replace(/\r\n/g,"\n"),n=e.createTextRange(),n.moveToBookmark(s.getBookmark()),s=e.createTextRange(),s.collapse(!1),n.compareEndPoints("StartToEnd",s)>-1?t=n=i:(t=-n.moveStart("character",-i),t+=r.slice(0,t).split("\n").length-1,n.compareEndPoints("EndToEnd",s)>-1?n=i:(n=-n.moveEnd("character",-i),n+=r.slice(0,n).split("\n").length-1))),{start:t,end:n,length:n-t,text:e.value.slice(t,n)}},s=function(e,t,r){t=n(e,t,r),r=e.createTextRange();var i=t.start-(e.value.slice(0,t.start).split("\r\n").length-1);r.collapse(!0),t.start==t.end?r.move("character",i):(r.moveEnd("character",t.end-(e.value.slice(0,t.end).split("\r\n").length-1)),r.moveStart("character",i)),r.select()},h=function(e,t){var n=document.selection.createRange();n.collapse(t),n.select()}}r().removeChild(v),u=function(e,t,n,r){var i;t!=n&&(i=e.value,e.value=i.slice(0,t)+i.slice(n)),r&&s(e,t,t)},o=function(e){var t=i(e);u(e,t.start,t.end,!0)},c=function(e){var t=i(e),n;return t.start!=t.end&&(n=e.value,e.value=n.slice(0,t.start)+n.slice(t.end)),s(e,t.start,t.start),t.text},a=function(e,t,n,r){var i=e.value;e.value=i.slice(0,n)+t+i.slice(n),r&&(t=n+t.length,s(e,t,t))},f=function(e,t){var n=i(e),r=e.value;e.value=r.slice(0,n.start)+t+r.slice(n.end),n=n.start+t.length,s(e,n,n)},l=function(e,t,n){var r=i(e),o=e.value;e.value=o.slice(0,r.start)+t+r.text+n+o.slice(r.end),t=r.start+t.length,s(e,t,t+r.length)},e.fn.extend({getSelection:d(i,!1),setSelection:d(s,!0),collapseSelection:d(h,!0),deleteSelectedText:d(o,!0),deleteText:d(u,!0),extractSelectedText:d(c,!1),insertText:d(a,!0),replaceSelectedText:d(f,!0),surroundSelectedText:d(l,!0)})})}(jQuery),function(e){var t={reauthoredWaveform:undefined,sound:undefined,play:!0,width:undefined,height:undefined,barColor:"#000000",barWidth:3,callback:undefined,resizeToFit:!0,origWaveform:undefined,origSound:undefined,current:undefined},n=function(e,t){t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),t.restore()},r=function(e,t){var r=t.getContext("2d");n(t,r),r.drawImage(e,0,0)},i=function(t){var n=e(this).data("timeline"),r=[];n!==undefined&&(r=n.seps),_.each(r,function(e){t.save(),t.strokeStyle="blue",t.lineWidth=2,t.globalAlpha=1,t.beginPath(),t.moveTo(e,0),t.lineTo(e,n.height),t.stroke(),t.restore()})},s=function(t){console.log("in update playhead");var n=e(this),i=n.data("timeline"),s=n.find(".timelineTmpCanvas")[0],o=n.find(".timelineMainCanvas")[0],u=o.getContext("2d");r(s,o),u.fillStyle=i.barColor,u.fillRect(t/parseFloat(i.sound.duration)*parseFloat(i.width),0,i.barWidth,i.height)},o=function(t){t=t||window.event;var n=e(this),r=n.data("timeline"),i=n.find(".timelineMainCanvas")[0],o=t.pageX-i.offsetLeft;o<=0&&(o=0),r.sound!==undefined&&r.sound.setPosition(o*parseFloat(r.sound.duration)/parseFloat(r.width)),console.log("scrubbed to",o),s.apply(this,[o*parseFloat(r.sound.duration)/parseFloat(r.width)])},u={init:function(r){var s=e.extend({},t,r),o,a,f,l,c,h,p,d,v=e(this),m=v.data("timeline");s.width=s.width||this.width(),s.height=s.height||this.height(),m||v.data("timeline",s),o=document.createElement("canvas"),e(o).attr("width",s.width).attr("height",s.height).addClass("timelineTmpCanvas").css("display","none"),a=document.createElement("canvas"),e(a).attr("width",s.width).addClass("timelineMainCanvas").attr("height",s.height),c=document.createElement("canvas"),e(c).css("display","none"),p=document.createElement("canvas"),e(p).css("display","none"),f=o.getContext("2d"),l=a.getContext("2d"),h=c.getContext("2d"),d=p.getContext("2d"),this.append(a).append(o).append(c).append(p);var g=new Image;g.onload=function(){e(c).attr("width",this.width).attr("height",this.height),h.drawImage(g,0,0,this.width,this.height),_.observe(s.current,function(){console.log("TL observed change"),e(a).unbind("click.timelineScrub"),y.apply(v[0])})},g.src=s.origWaveform;var y=function(){console.log("in draw current waveform");var t=d,r=p,u=e(c).width(),h=s.height,m=parseFloat(u)/parseFloat(s.origSound.duration);n(r,t);var g,y,b,w,E,S=_.reduce(s.current,function(e,t){return t.alignedWord==="gp"?e+parseInt(t.pauseLength*1e3*m):(y=parseInt(t.start*1e3*m),b=parseInt(t.end*1e3*m),w=b-y,e+w)},0);if(S===0){n(a,l),n(o,f);return}e(r).attr("height",h).attr("width",S);var x=0,T=0,N=[];for(g=0;g<s.current.length;g++)E=s.current[g],E.alignedWord!=="gp"?(y=parseInt(E.start*1e3*m),b=parseInt(E.end*1e3*m),w=b-y,w>0&&t.drawImage(c,y,0,w,h,x,0,w,h),T+1!==E.origPos&&N.push(x),T=E.origPos,x+=w):(N.push(x),x+=parseInt(E.pauseLength*1e3*m),T=-999);n(a,l),l.drawImage(r,0,0,e(a).width(),s.height);var C=e(a).width()/parseFloat(x);v.data("timeline").seps=_.map(N,function(e){return e*C}),i.apply(this,[l]),l.strokeRect(0,0,s.width,s.height)},b=this;return e(window).bind("resize.timeline",function(){s.resizeToFit&&(s.width=b.width(),e(o).attr("width",s.width).attr("height",s.height),e(a).attr("width",s.width).attr("height",s.height),u.updateRendered.apply(b,[s.reauthoredWaveform]))}),console.log("am i here?",s.width,s.height),u.updateRendered.apply(this,[s.reauthoredWaveform]),s.play&&s.sound.play(),this},updateRendered:function(t,u){console.log("update reauthored waveform");var a=e(this),f=this,l=a.find(".timelineTmpCanvas")[0],c=a.find(".timelineMainCanvas")[0],h=l.getContext("2d"),p=a.data("timeline"),d=new Image;n(l,h),d.onload=function(){h.drawImage(d,0,0,p.width,p.height),h.strokeRect(0,0,p.width,p.height),i.apply(f,[h]),r(l,c),p.callback&&p.callback()},p.reauthoredWaveform=t,d.src=p.reauthoredWaveform,p=e.extend(p,u),u!==undefined&&(p.sound!==undefined&&(e(c).bind("click.timelineScrub",function(e){o.apply(a[0],[e])}),p.sound.options.whileplaying=function(){s.apply(a[0],[this.position])},u.play===!0&&p.sound.play()),u.callback!==undefined&&u.callback())},destroy:function(){this.html("");return this.each(function(){e(window).unbind(".timeline")});var t}};e.fn.timeline=function(t){if(u[t])return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return u.init.apply(this,arguments);e.error("Method "+t+"does not exist on jQuery.timeline")}}(jQuery);var TAAPP=TAAPP||{},clone=function(e){var t=e instanceof Array?[]:{};for(i in e)e[i]&&typeof e[i]=="object"?t[i]=clone(e[i]):t[i]=e[i];return t};soundManager.setup({url:"swf/soundmanager2_flash9.swf",flashVersion:9,useFlashBlock:!1}),TAAPP.state={speechReauthor:{},speechSampleRate:44100,timelineHeight:100,timelineWidth:2e3},TAAPP.processPaste=function(e,t){var n=/(?:\[(\d+|gp)\]([^|]+)\|)/g,r=!1,i=TAAPP.ta.getSelection(),s=[];if(e.length-t.length+i.start!==0&&e.charAt(e.length-t.length+i.start)!==" "&&e.charAt(e.length-t.length+i.start-1)!==" "){console.log("Can't insert here (middle of word)!"),TAAPP.ta.val(e);return}while(result=n.exec(t))r=!0,result[1]==="gp"?s.push(result[2]):s.push(parseInt(result[1]));if(r){TAAPP.insertWords(s,e.length-t.length+i.start);return}TAAPP.ta.val(e)},TAAPP.processCopy=function(){var e=window.getSelection(),t=document.createElement("div"),n=TAAPP.ta.getSelection(),r=TAAPP.currentRange(n.start,n.end),i;i=_.reduce(r,function(e,t){var n;if(t.alignedWord==="gp")return console.log("copying gp"),e+"[gp]"+t.word+"|";for(n=0;n<TAAPP.words.length;n++)if(TAAPP.words[n].start===t.start&&TAAPP.words[n].end===t.end)break;return e+"["+n+"]"+t.word+"|"},""),t.style.position="absolute",t.style.left="-99999px",$("body").append(t),t.innerHTML=i,e.selectAllChildren(t),_.defer(function(){$(t).remove()})},TAAPP.processCut=function(){var e=TAAPP.ta.getSelection(),t=TAAPP.currentRange(e.start,e.end),n,r;TAAPP.updateText(),r=TAAPP.text,n=_.reduce(t,function(e,t){var n;for(n=0;n<TAAPP.words.length;n++)if(TAAPP.words[n].start===t.start&&TAAPP.words[n].end===t.end)break;return e+"["+n+"]"+t.word+"|"},""),r=r.slice(0,e.start)+n+r.slice(e.end+1),TAAPP.ta.val(r).setSelection(e.start,e.start+n.length)},TAAPP.processDelete=function(e){TAAPP.sound&&TAAPP.sound.pause(),TAAPP.snapSelectionToWord();var t=TAAPP.ta.getSelection(),n;t.length===0&&TAAPP.selectWord(e,!0),t=TAAPP.ta.getSelection(),n=t.end;while(TAAPP.text.charAt(n)===" ")n++;TAAPP.ta.setSelection(t.start,n),TAAPP.pruneCurrentByTAPos(t.start,n),TAAPP.updateText()},TAAPP.currentRange=function(e,t){if(t===undefined){var n,r;for(n=0;n<TAAPP.current.length;n++)if(TAAPP.current[n].taPos>=e){r=TAAPP.current[n].taPos;break}return[r,n]}return console.log("currentrange",e,t),_.filter(TAAPP.current,function(n){return n.taPos>=e&&n.taPos<t})},TAAPP.pruneCurrent=function(e,t){TAAPP.current.splice(e,t-e),TAAPP.updatePos()},TAAPP.pruneCurrentByTAPos=function(e,t){var n=[];_.each(TAAPP.current,function(r,i){r.taPos>=e&&r.taPos<t&&n.push(i)},n),TAAPP.pruneCurrent(n[0],_.last(n)+1)},TAAPP.insertWords=function(e,t){var n,r,i;for(n=0;n<TAAPP.current.length;n++)if(TAAPP.current[n].taPos>=t)break;var s={first:undefined,last:undefined};r=_.map(e,function(e){if(e.toString().split("-")[0]==="{gp"){var t=clone(TAAPP.roomTone[TAAPP.speech]);return t.word=e,t.pauseLength=parseFloat(e.split("-")[1]),s.first===undefined&&(this.first=t),this.last=t,t}var t=clone(TAAPP.words[e]);return s.first===undefined&&(this.first=t),this.last=t,t},s),i=[n,0].concat(r),Array.prototype.splice.apply(TAAPP.current,i),TAAPP.updateTextArea(),TAAPP.updatePos();var o=s.first.taPos,u=s.last.taPos+s.last.word.length;return TAAPP.ta.setSelection(u,u),[o,u]},TAAPP.selectWord=function(e){TAAPP.updateText();var t=TAAPP.ta[0].selectionStart,n;if(e==="backward"){n=t-1;while(TAAPP.text.charAt(n)===" "&&TAAPP.text.charAt(n)!=="")n--;TAAPP.ta.setSelection(n,t)}else if(e==="forward"){n=t+2;while(TAAPP.text.charAt(n)===" "&&TAAPP.text.charAt(n)!=="")n++;TAAPP.ta.setSelection(t,n)}TAAPP.snapSelectionToWord()},TAAPP.snapSelectionToWord=function(){var e=TAAPP.ta.getSelection(),t,n=!1,r=!1;if(e.length===0)return;TAAPP.updateText(),/^\s+$/.exec(e.text)&&TAAPP.ta.collapseSelection();if(e.length>0){while(TAAPP.text.charAt(e.start)===" "){r=!0;if(!(e.start+1<e.end))break;TAAPP.ta.setSelection(e.start+1,e.end),e=TAAPP.ta.getSelection()}while(TAAPP.text.charAt(e.start-1)!==" "&&TAAPP.text.charAt(e.start-1)!==""&&t!==e.length&&!r)console.log("in move start left"),t=e.length,TAAPP.ta.setSelection(e.start-1,e.end),e=TAAPP.ta.getSelection();while(TAAPP.text.charAt(e.end-1)===" "){n=!0;if(!(e.start<e.end-1))break;TAAPP.ta.setSelection(e.start,e.end-1),e=TAAPP.ta.getSelection()}while(TAAPP.text.charAt(e.end)!==" "&&TAAPP.text.charAt(e.end)!==""&&t!==e.length&&!n)t=e.length,TAAPP.ta.setSelection(e.start,e.end+1),e=TAAPP.ta.getSelection()}},TAAPP.updateText=function(){TAAPP.text=TAAPP.ta.val(),TAAPP.emphasizeWords(),TAAPP.insertDupeOverlays()},TAAPP.updatePos=function(){TAAPP.highlightWords(-1),_.each(TAAPP.current,function(e,t){TAAPP.current[t].taPos=this.total,this.total+=e.word.length+1},{total:0})},TAAPP.generateAudio=function(){TAAPP.state.speechReauthor={words:TAAPP.current};var e=document.createElement("img");e.src="img/smallgear.gif",$(".spinner").prepend(e),$.ajax({url:"../reauthor",type:"POST",dataType:"json",contentType:"json",data:JSON.stringify(TAAPP.state),success:function(t){TAAPP.sound!==undefined&&TAAPP.sound.destruct(),TAAPP.sound=TAAPP.createSound(t),$(e).remove()},error:function(t){$(e).remove()}})},TAAPP.createSound=function(e){return soundManager.createSound({id:"speech",url:e.url,autoPlay:!1,autoLoad:!0,onplay:function(){$(".playBtn").html('<i class="icon-pause icon-white"></i>')},onresume:function(){$(".playBtn").html('<i class="icon-pause icon-white"></i>')},onpause:function(){$(".playBtn").html('<i class="icon-play icon-white"></i>')},onload:function(){_.each(e.timing,function(t,n,r){var i=t*1e3;TAAPP.timing=e.timing,this.onPosition(i,function(){TAAPP.highlightWords(n)})},this),$(".timeline").timeline("updateRendered",e.img,{callback:TAAPP.adjustHeight,sound:this,play:!0})},onfinish:function(){TAAPP.highlightWords(-1)}})},TAAPP.emphasizeWords=function(){var e=_.reduce(TAAPP.current,function(e,t,n){return t.emph!==undefined&&t.emph===!0?e+'<span class="emph">'+t.word+"</span> ":e+t.word+" "},"");$(".emphasis").html(e)},TAAPP.highlightWords=function(e,t){if(e===-1){TAAPP.currentHighlight=undefined,$(".highlights").html("");return}if(TAAPP.currentHighlight!==undefined&&TAAPP.currentHighlight[0]>e&&TAAPP.currentHighlight[0]<e+3)return;TAAPP.currentHighlight=[e,t];var n=_.reduce(TAAPP.current,function(n,r,i){return i!==e||i!==t-1&&t!==undefined?i===e?n+'<span class="hl">'+r.word+" ":i===t-1?n+r.word+"</span> ":n+r.word+" ":n+'<span class="hl">'+r.word+"</span> "},"");$(".highlights").html(n)},TAAPP.adjustHeight=function(){TAAPP.ta.height("100px");var e=TAAPP.ta.prop("scrollHeight")+"px",t=window.innerHeight-TAAPP.ta.offset().top-50;TAAPP.ta.height(e),$(".highlights").height(e),$(".hlContainer").height(e),$(".emContainer").height(e),$(".emphasis").height(e),$(".overlayContainer").height(e),$(".overlays").height(e),$(".contr").height(t),$(".dupeList").height(t)},TAAPP.playFromSelection=function(){var e=TAAPP.ta.getSelection(),t=TAAPP.currentRange(e.start),n,r=TAAPP.timing.length-1;console.log(t),console.log(TAAPP.timing);for(n=0;n<TAAPP.timing.length;n++)if(TAAPP.timing[n][0]>=t[1]){r=n-1;break}console.log(TAAPP.timing[r][1]*1e3),TAAPP.sound.stop(),TAAPP.sound.setPosition(TAAPP.timing[r][1]*1e3),TAAPP.sound.play()},TAAPP.roomTone={sedaris:{start:32.837,end:34.118,word:"{gpause}",alignedWord:"gp"},bullw:{start:123,end:124.266,word:"{gpause}",alignedWord:"gp"},scorerickard:{start:19.53,end:19.851,word:"{gpause}",alignedWord:"gp"}},TAAPP.origSoundURL=function(){return TAAPP.env!==undefined&&TAAPP.env==="production"?"http://d1qv8gm47dmlns.cloudfront.net/mp3s/"+TAAPP.speech+".mp3":TAAPP.speech+".mp3"},TAAPP.loadOriginal=function(){var e={url:TAAPP.origSoundURL(),id:"orig",autoLoad:!0,onload:function(){console.log("loaded original sound"),$(".timeline").timeline({height:TAAPP.state.timelineHeight,reauthoredWaveform:TAAPP.speech+".png",sound:this,callback:TAAPP.adjustHeight,current:TAAPP.current,origSound:this,origWaveform:TAAPP.speech+".png",play:!1})},autoPlay:!1};TAAPP.origSound===undefined?soundManager.onready(function(){TAAPP.origSound=soundManager.createSound(e)}):(TAAPP.origSound.destruct(),TAAPP.origSound=soundManager.createSound(e))},TAAPP.reset=function(){TAAPP.state.speechText=TAAPP.speech+".json",TAAPP.state.speechAudio=TAAPP.speech+"44.wav",TAAPP.sound&&(TAAPP.sound.destruct(),TAAPP.sound=undefined),TAAPP.current=undefined,TAAPP.timing=undefined,TAAPP.currentHighlight=undefined,TAAPP.dupes=undefined,$(".timeline").timeline("destroy"),$(".dupeList").html(""),TAAPP.state.outfile=TAAPP.speech+"-"+TAAPP.outfile,$(".dlLink").prop("href","/download/"+TAAPP.state.outfile),$.getJSON(TAAPP.state.speechText,function(e){var t=e.words;TAAPP.words=t,_.each(TAAPP.words,function(e,t){e.origPos=t}),TAAPP.current=clone(TAAPP.words),TAAPP.updatePos(),TAAPP.updateTextArea(),TAAPP.updateDupes(),TAAPP.loadOriginal()})},TAAPP.updateDupes=function(){$.ajax({url:"../dupes",type:"POST",dataType:"json",contentType:"json",data:JSON.stringify(TAAPP.state),success:function(e){TAAPP.dupes=e,TAAPP._preprocessDupes(),TAAPP.drawScript(),TAAPP.insertDupeOverlays()}})},TAAPP.updateTextArea=function(){TAAPP.ta.val(_.reduce(TAAPP.current,function(e,t){if(t.alignedWord==="UH"||t.alignedWord==="UM")t.emph=!0;return e+t.word+" "},"")),TAAPP.emphasizeWords(),TAAPP.insertDupeOverlays(),TAAPP.adjustHeight()},TAAPP.replaceWords=function(e,t,n,r){console.log("in replace words");var i=TAAPP.current[e].taPos;return TAAPP.pruneCurrent(e,t+1),TAAPP.insertWords(_.range(n,r+1),i)},TAAPP._buildDupeDropdown=function(e,t,n,r){var i=document.createElement("span"),s=document.createElement("span"),o=document.createElement("ul"),u=document.createElement("li"),a=document.createElement("a");return $(i).addClass("dropdown overlay"),$(s).addClass("dropdown-toggle").text(e),$(u).addClass("disabled").append(a),$(a).text("Similar sentences"),$(o).addClass("dropdown-menu").attr("role","menu").attr("aria-labelledby","dLabel").append(u),_.each(TAAPP.dupes[t],function(e){var t=document.createElement("li"),n=document.createElement("a");$(n).attr("tabindex","-1").attr("href",null).addClass("dupeOpt").html('<i class="icon-play dupePlayButton"></i>'+e[1]),$(t).append(n),$(o).append(t)}),$(i).append(s).append(o),i},TAAPP._preprocessDupes=function(){var e=_.flatten(_.compact(_.map(TAAPP.dupes,function(e,t,n){return e.length!==1?_.map(e,function(n,r){return{firstWord:n[0][0],dupe:e,dElt:n,idxInDupes:t}}):!1}))),t=_.pluck(e,"firstWord");TAAPP.dupeInfo={starts:e,firsts:t}},TAAPP.insertDupeOverlays=function(){console.log("In insertDupeOverlays");if(TAAPP.dupes===undefined)return;var e=$(".overlays"),t={dupeOrder:[],bounds:[]},n=[],r=TAAPP.dupeInfo.firsts,i=TAAPP.dupeInfo.starts,s=_.reduce(TAAPP.current,function(e,n,s){var o=r.indexOf(n.origPos),u,a,f;if(o!==-1){a=s,f=i[o],u=f.idxInDupes;while(a<TAAPP.current.length&&TAAPP.current[a].origPos>=f.dElt[0][0]&&TAAPP.current[a].origPos<=f.dElt[0][1])a++;return t.dupeOrder.push(u),t.bounds.push([s,a-1]),e+TAAPP._buildDupeDropdown(n.word,u,s,a-1).outerHTML+" "}return e+n.word+" "},"",t);e.html(s);var o=TAAPP.ta.width();$(".dropdown-toggle").each(function(e){var n=$(this).offset(),r=TAAPP.dupes[t.dupeOrder[e]],i=t.bounds[e][0],s=t.bounds[e][1];$(this).click(function(){TAAPP.ta.setSelection(TAAPP.current[i].taPos,TAAPP.current[s].taPos+TAAPP.current[s].word.length)}).next(".dropdown-menu").css({left:-n.left+30+"px",width:o-20+"px"}).find("a.dupeOpt").each(function(e){var t=$(this);t.click(function(t){var n=TAAPP.replaceWords(i,s,r[e][0][0],r[e][0][1]);return TAAPP.ta.setSelection(n[0],n[1]),!1}).find(".dupePlayButton").click(function(t){var n=TAAPP.words[r[e][0][0]].start,i=TAAPP.words[r[e][0][1]].end;TAAPP.origSound.play({from:n*1e3,to:i*1e3,onstop:function(){TAAPP.ta.focus()}}),t.stopPropagation()})})}).dropdown()},TAAPP.drawScript=function(){_.each(TAAPP.dupes,function(e,t,n){var r=document.createElement("button"),i=document.createElement("button"),s=document.createElement("div");$(r).html('<i class="icon-play icon-white"></i>').addClass("btn btn-success").prop("type","button"),$(i).html('<i class="icon-plus icon-white"></i>').addClass("btn btn-primary"),$(s).addClass("scriptLine");if(e.length===1){$(r).click(function(){TAAPP.origSound.play({from:1e3*TAAPP.words[e[0][0][0]].start,to:1e3*TAAPP.words[e[0][0][1]].end})}),$(i).click(function(){var t=e[0][0],n=TAAPP.ta.getSelection();TAAPP.insertWords(_.range(t[0],t[1]+1),n.start)});var o=document.createElement("div");$(o).addClass("btn-group").append(r).append(i);var u=document.createElement("span");$(u).text(e[0][1]).addClass("scriptLineText"),$(s).append(o).append(u),$(".dupeList").append(s)}else{var a=_.map(e,function(e,t){var n=document.createElement("option");return $(n).val(t).text(e[1]),n}),f=document.createElement("select");$(r).click(function(){var t=$(f).val(),n=e[t][0],r=TAAPP.words[n[0]].start,i=TAAPP.words[n[1]].end;TAAPP.origSound.play({from:r*1e3,to:i*1e3})}),$(i).click(function(){var t=$(f).val(),n=e[t][0],r=TAAPP.ta.getSelection();TAAPP.insertWords(_.range(n[0],n[1]+1),r.start)}),$(f).append(a).prop("name","dupe"+t).addClass("span10"),$(s).addClass("input-prepend").append(r).append(i).append(f),$(".dupeList").append(s)}})},TAAPP.reauthor=function(){TAAPP.sound&&TAAPP.sound.pause(),TAAPP.highlightWords(-1),TAAPP.generateAudio()},TAAPP.togglePlay=function(){TAAPP.sound?TAAPP.sound.togglePause():TAAPP.reauthor()},TAAPP.loadSite=function(){$("select[name=speechSelect]").change(function(){console.log("Changing to "+$(this).val()),TAAPP.speech=$(this).val(),TAAPP.reset()}),TAAPP.speech=$("select[name=speechSelect]").val(),TAAPP.outfile=Math.random().toString(36).substring(12),TAAPP.reset(),$(".gPause").click(function(){TAAPP.updateText();var e=TAAPP.text,t=clone(TAAPP.roomTone[TAAPP.speech]),n=TAAPP.ta.getSelection();return t.word="{gp-"+parseFloat($(".gpLen").val())+"}",t.pauseLength=parseFloat($(".gpLen").val()),TAAPP.insertWords([t.word],n.start),!1}),TAAPP.ta=$("#txtArea"),TAAPP.updateText(),$("#txtArea").bind("copy",function(e){console.log("copy",e),TAAPP.processCopy()}).bind("cut",function(e){console.log("cut",e),TAAPP.processCut()}).bind("paste",function(e){TAAPP.text=TAAPP.ta.val(),_.defer(function(){var e=TAAPP.processPaste(TAAPP.text,TAAPP.ta.val());TAAPP.updateText(),TAAPP.adjustHeight()})}).keypress(function(e){e.which>=32&&e.preventDefault()}).keydown(function(e){if(e.which===8)TAAPP.processDelete("backward");else if(e.which===46)TAAPP.processDelete("forward");else if([37,38,39,40].indexOf(e.which)!==-1)e.shiftKey&&_.defer(TAAPP.snapSelectionToWord);else{if(e.which===13)return TAAPP.reauthor(),!1;if(e.which===90)return!1;e.which===32&&TAAPP.sound&&TAAPP.playFromSelection()}}).bind("mouseup",TAAPP.snapSelectionToWord),$(".genLink").click(TAAPP.reauthor),$(".playBtn").click(TAAPP.togglePlay),$("body").keyup(function(e){e.keyCode===80&&TAAPP.togglePlay()}),$(window).resize(function(){TAAPP.adjustHeight(),TAAPP.insertDupeOverlays()})},$(function(){TAAPP.loadSite()}),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){s.trigger("closed").remove()}var r=e(this),i=r.attr("data-target"),s;i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),s=e(i),t&&t.preventDefault(),s.length||(s=r.hasClass("alert")?r:r.parent()),s.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.on(e.support.transition.end,n):n()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),r=this;if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){r.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0],direction:o});if(i.hasClass("active"))return;this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")}));if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o;i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("carousel").pause().to(o).cycle(),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=e.extend({},e.fn.collapse.defaults,r.data(),typeof n=="object"&&n);i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function t(){e(r).each(function(){n(e(this)).removeClass("open")})}function n(t){var n=t.attr("data-target"),r;n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=n&&e(n);if(!r||!r.length)r=t.parent();return r}var r="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(r){var i=e(this),s,o;if(i.is(".disabled, :disabled"))return;return s=n(i),o=s.hasClass("open"),t(),o||s.toggleClass("open"),i.focus(),!1},keydown:function(t){var i,s,o,u,a,f;if(!/(38|40|27)/.test(t.keyCode))return;i=e(this),t.preventDefault(),t.stopPropagation();if(i.is(".disabled, :disabled"))return;u=n(i),a=u.hasClass("open");if(!a||a&&t.keyCode==27)return t.which==27&&u.find(r).focus(),i.click();s=e("[role=menu] li:not(.divider):visible a",u);if(!s.length)return;f=s.index(s.filter(":focus")),t.keyCode==38&&f>0&&f--,t.keyCode==40&&f<s.length-1&&f++,~f||(f=0),s.eq(f).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),typeof t=="string"&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on(".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,a;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,o=this.options.trigger.split(" ");for(a=o.length;a--;)u=o[a],u=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):u!="manual"&&(i=u=="hover"?"mouseenter":"focus",s=u=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented())return;t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in"),s=n[0].offsetWidth,o=n[0].offsetHeight,t=="top"&&o!=i&&(e.top=e.top+i-o,a=!0),t=="bottom"||t=="top"?(u=0,e.left<0&&(u=e.left*-2,e.left=0,n.offset(e),s=n[0].offsetWidth,o=n[0].offsetHeight),this.replaceArrow(u-r+s,s,"left")):this.replaceArrow(o-i,o,"top"),a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){r.off(e.support.transition.end).detach()},500);r.one(e.support.transition.end,function(){clearTimeout(t),r.detach()})}var n=this,r=this.tip(),i=e.Event("hide");this.$element.trigger(i);if(i.isDefaultPrevented())return;return r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():r.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=(typeof n.content=="function"?n.content.call(t[0]):n.content)||t.attr("data-content"),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var s=n.find("> .active"),o=r&&e.support.transition&&s.hasClass("fade");o?s.one(e.support.transition.end,i):i(),s.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),function(e,t){function n(t){return e.less[t.split("/")[1]]}function r(){m.env==="development"?(m.optimization=0,m.watchTimer=setInterval(function(){m.watchMode&&s(function(e,t,n,r,i){t&&l(t.toCSS(),r,i.lastModified)})},m.poll)):m.optimization=3}function i(){var e=document.getElementsByTagName("style");for(var t=0;t<e.length;t++)e[t].type.match(N)&&(new m.Parser({filename:document.location.href.replace(/#.*$/,""),dumpLineNumbers:m.dumpLineNumbers})).parse(e[t].innerHTML||"",function(n,r){var i=r.toCSS(),s=e[t];s.type="text/css",s.styleSheet?s.styleSheet.cssText=i:s.innerHTML=i})}function s(e,t){for(var n=0;n<m.sheets.length;n++)a(m.sheets[n],e,t,m.sheets.length-(n+1))}function o(e,t){var n=u(e),r=u(t),i,s,o,a,f="";if(n.hostPart!==r.hostPart)return"";s=Math.max(r.directories.length,n.directories.length);for(i=0;i<s;i++)if(r.directories[i]!==n.directories[i])break;a=r.directories.slice(i),o=n.directories.slice(i);for(i=0;i<a.length-1;i++)f+="../";for(i=0;i<o.length-1;i++)f+=o[i]+"/";return f}function u(e,t){var n=/^((?:[a-z-]+:)?\/\/(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/,r=e.match(n),i={},s=[],o,u;if(!r)throw new Error("Could not parse sheet href - '"+e+"'");if(!r[1]||r[2]){u=t.match(n);if(!u)throw new Error("Could not parse page url - '"+t+"'");r[1]=u[1],r[2]||(r[3]=u[3]+r[3])}if(r[3]){s=r[3].replace("\\","/").split("/");for(o=0;o<s.length;o++)s[o]===".."&&o>0&&(s.splice(o-1,2),o-=2)}return i.hostPart=r[1],i.directories=s,i.path=r[1]+s.join("/"),i.fileUrl=i.path+(r[4]||""),i.url=i.fileUrl+(r[5]||""),i}function a(t,n,r,i){var s=t.contents||{},a=t.files||{},h=u(t.href,e.location.href),d=h.url,g=S&&S.getItem(d),y=S&&S.getItem(d+":timestamp"),b={css:g,timestamp:y},w;m.relativeUrls?m.rootpath?t.entryPath?w=u(m.rootpath+o(h.path,t.entryPath)).path:w=m.rootpath:w=h.path:m.rootpath?w=m.rootpath:t.entryPath?w=t.entryPath:w=h.path,c(d,t.type,function(e,o){k+=e.replace(/@import .+?;/ig,"");if(!r&&b&&o&&(new Date(o)).valueOf()===(new Date(b.timestamp)).valueOf())l(b.css,t),n(null,null,e,t,{local:!0,remaining:i},d);else try{s[d]=e,(new m.Parser({optimization:m.optimization,paths:[h.path],entryPath:t.entryPath||h.path,mime:t.type,filename:d,rootpath:w,relativeUrls:t.relativeUrls,contents:s,files:a,dumpLineNumbers:m.dumpLineNumbers})).parse(e,function(r,s){if(r)return v(r,d);try{n(r,s,e,t,{local:!1,lastModified:o,remaining:i},d),p(document.getElementById("less-error-message:"+f(d)))}catch(r){v(r,d)}})}catch(u){v(u,d)}},function(e,t){throw new Error("Couldn't load "+t+" ("+e+")")})}function f(e){return e.replace(/^[a-z]+:\/\/?[^\/]+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function l(e,t,n){var r,i=t.href||"",s="less:"+(t.title||f(i));if((r=document.getElementById(s))===null){r=document.createElement("style"),r.type="text/css",t.media&&(r.media=t.media),r.id=s;var o=t&&t.nextSibling||null;(o||document.getElementsByTagName("head")[0]).parentNode.insertBefore(r,o)}if(r.styleSheet)try{r.styleSheet.cssText=e}catch(u){throw new Error("Couldn't reassign styleSheet.cssText.")}else(function(e){r.childNodes.length>0?r.firstChild.nodeValue!==e.nodeValue&&r.replaceChild(e,r.firstChild):r.appendChild(e)})(document.createTextNode(e));if(n&&S){d("saving "+i+" to cache.");try{S.setItem(i,e),S.setItem(i+":timestamp",n)}catch(u){d("failed to save")}}}function c(e,t,n,r){function i(t,n,r){t.status>=200&&t.status<300?n(t.responseText,t.getResponseHeader("Last-Modified")):typeof r=="function"&&r(t.status,e)}var s=h(),o=b?m.fileAsync:m.async;typeof s.overrideMimeType=="function"&&s.overrideMimeType("text/css"),s.open("GET",e,o),s.setRequestHeader("Accept",t||"text/x-less, text/css; q=0.9, */*; q=0.5"),s.send(null),b&&!m.fileAsync?s.status===0||s.status>=200&&s.status<300?n(s.responseText):r(s.status,e):o?s.onreadystatechange=function(){s.readyState==4&&i(s,n,r)}:i(s,n,r)}function h(){if(e.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){return d("browser doesn't support AJAX."),null}}function p(e){return e&&e.parentNode.removeChild(e)}function d(e){m.env=="development"&&typeof console!="undefined"&&console.log("less: "+e)}function v(e,t){var n="less-error-message:"+f(t),r='<li><label>{line}</label><pre class="{class}">{content}</pre></li>',i=document.createElement("div"),s,o,u=[],a=e.filename||t,c=a.match(/([^\/]+(\?.*)?)$/)[1];i.id=n,i.className="less-error-message",o="<h3>"+(e.message||"There is an error in your .less file")+"</h3>"+'<p>in <a href="'+a+'">'+c+"</a> ";var h=function(e,t,n){e.extract[t]&&u.push(r.replace(/\{line\}/,parseInt(e.line)+(t-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[t]))};e.stack?o+="<br/>"+e.stack.split("\n").slice(1).join("<br/>"):e.extract&&(h(e,0,""),h(e,1,"line"),h(e,2,""),o+="on line "+e.line+", column "+(e.column+1)+":</p>"+"<ul>"+u.join("")+"</ul>"),i.innerHTML=o,l([".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),i.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),m.env=="development"&&(s=setInterval(function(){document.body&&(document.getElementById(n)?document.body.replaceChild(i,document.getElementById(n)):document.body.insertBefore(i,document.body.firstChild),clearInterval(s))},10))}Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"||e instanceof Array}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n=this.length>>>0;for(var r=0;r<n;r++)r in this&&e.call(t,this[r],r,this)}),Array.prototype.map||(Array.prototype.map=function(e){var t=this.length>>>0,n=new Array(t),r=arguments[1];for(var i=0;i<t;i++)i in this&&(n[i]=e.call(r,this[i],i,this));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=[],n=arguments[1];for(var r=0;r<this.length;r++)e.call(n,this[r])&&t.push(this[r]);return t}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=this.length>>>0,n=0;if(t===0&&arguments.length===1)throw new TypeError;if(arguments.length>=2)var r=arguments[1];else do{if(n in this){r=this[n++];break}if(++n>=t)throw new TypeError}while(!0);for(;n<t;n++)n in this&&(r=e.call(null,r,this[n],n,this));return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,n=arguments[1]||0;if(!t)return-1;if(n>=t)return-1;n<0&&(n+=t);for(;n<t;n++){if(!Object.prototype.hasOwnProperty.call(this,n))continue;if(e===this[n])return n}return-1}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var m,g,y;typeof environment=="object"&&{}.toString.call(environment)==="[object Environment]"?(typeof e=="undefined"?m={}:m=e.less={},g=m.tree={},m.mode="rhino"):typeof e=="undefined"?(m=exports,g=n("./tree"),m.mode="node"):(typeof e.less=="undefined"&&(e.less={}),m=e.less,g=e.less.tree={},m.mode="browser"),m.Parser=function(e){function t(){E=T[w],S=b,N=b}function r(){T[w]=E,b=S,N=b}function i(){b>N&&(T[w]=T[w].slice(b-N),N=b)}function s(e){var t=e.charCodeAt(0);return t===32||t===10||t===9}function o(e){var t,n,r,s,o;if(e instanceof Function)return e.call(C.parsers);if(typeof e=="string")t=y.charAt(b)===e?e:null,r=1,i();else{i();if(!(t=e.exec(T[w])))return null;r=t[0].length}if(t)return u(r),typeof t=="string"?t:t.length===1?t[0]:t}function u(e){var t=b,n=w,r=b+T[w].length,i=b+=e;while(b<r){if(!s(y.charAt(b)))break;b++}return T[w]=T[w].slice(e+(b-i)),N=b,T[w].length===0&&w<T.length-1&&w++,t!==b||n!==w}function a(e,t){var n=o(e);if(!!n)return n;f(t||(typeof e=="string"?"expected '"+e+"' got '"+y.charAt(b)+"'":"unexpected token"))}function f(e,t){var n=new Error(e);throw n.index=b,n.type=t||"Syntax",n}function l(e){return typeof e=="string"?y.charAt(b)===e:e.test(T[w])?!0:!1}function c(e,t){return e.filename&&t.filename&&e.filename!==t.filename?C.imports.contents[e.filename]:y}function h(e,t){for(var n=e,r=-1;n>=0&&t.charAt(n)!=="\n";n--)r++;return{line:typeof e=="number"?(t.slice(0,e).match(/\n/g)||"").length:null,column:r}}function p(e){return m.mode==="browser"||m.mode==="rhino"?e.filename:n("path").resolve(e.filename)}function d(e,t,n){return{lineNumber:h(e,t).line+1,fileName:p(n)}}function v(e,t){var n=c(e,t),r=h(e.index,n),i=r.line,s=r.column,o=n.split("\n");this.type=e.type||"Syntax",this.message=e.message,this.filename=e.filename||t.filename,this.index=e.index,this.line=typeof i=="number"?i+1:null,this.callLine=e.call&&h(e.call,n).line+1,this.callExtract=o[h(e.call,n).line],this.stack=e.stack,this.column=s,this.extract=[o[i-1],o[i],o[i+1]]}var y,b,w,E,S,x,T,N,C,k=this,e=e||{};e.contents||(e.contents={}),e.rootpath=e.rootpath||"",e.files||(e.files={});var L=function(){},A=this.imports={paths:e.paths||[],queue:[],files:e.files,contents:e.contents,mime:e.mime,error:null,push:function(t,n){var r=this;this.queue.push(t),m.Parser.importer(t,this.paths,function(e,i,s){r.queue.splice(r.queue.indexOf(t),1);var o=s in r.files;r.files[s]=i,e&&!r.error&&(r.error=e),n(e,i,o),r.queue.length===0&&L(r.error)},e)}};return this.env=e=e||{},this.optimization="optimization"in this.env?this.env.optimization:1,this.env.filename=this.env.filename||null,C={imports:A,parse:function(t,r){var i,s,u,a,f,l,c=[],h,p=null;b=w=N=x=0,y=t.replace(/\r\n/g,"\n"),y=y.replace(/^\uFEFF/,""),T=function(t){var n=0,r=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,i=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,s=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,o=0,u,a=t[0],f;for(var l=0,c,h;l<y.length;){r.lastIndex=l,(u=r.exec(y))&&u.index===l&&(l+=u[0].length,a.push(u[0])),c=y.charAt(l),i.lastIndex=s.lastIndex=l;if(u=s.exec(y))if(u.index===l){l+=u[0].length,a.push(u[0]);continue}if(!f&&c==="/"){h=y.charAt(l+1);if(h==="/"||h==="*")if(u=i.exec(y))if(u.index===l){l+=u[0].length,a.push(u[0]);continue}}switch(c){case"{":if(!f){o++,a.push(c);break};case"}":if(!f){o--,a.push(c),t[++n]=a=[];break};case"(":if(!f){f=!0,a.push(c);break};case")":if(f){f=!1,a.push(c);break};default:a.push(c)}l++}return o!=0&&(p=new v({index:l-1,type:"Parse",message:o>0?"missing closing `}`":"missing opening `{`",filename:e.filename},e)),t.map(function(e){return e.join("")})}([[]]);if(p)return r(p,e);try{i=new g.Ruleset([],o(this.parsers.primary)),i.root=!0}catch(d){return r(new v(d,e))}i.toCSS=function(t){var r,i,s;return function(r,i){var s=[],o;r=r||{},typeof i=="object"&&!Array.isArray(i)&&(i=Object.keys(i).map(function(e){var t=i[e];return t instanceof g.Value||(t instanceof g.Expression||(t=new g.Expression([t])),t=new g.Value([t])),new g.Rule("@"+e,t,!1,0)}),s=[new g.Ruleset(null,i)]);try{var u=t.call(this,{frames:s}).toCSS([],{compress:r.compress||!1,dumpLineNumbers:e.dumpLineNumbers})}catch(a){throw new v(a,e)}if(o=C.imports.error)throw o instanceof v?o:new v(o,e);return r.yuicompress&&m.mode==="node"?n("ycssmin").cssmin(u):r.compress?u.replace(/(\s)+/g,"$1"):u}}(i.eval);if(b<y.length-1){b=x,l=y.split("\n"),f=(y.slice(0,b).match(/\n/g)||"").length+1;for(var E=b,S=-1;E>=0&&y.charAt(E)!=="\n";E--)S++;p={type:"Parse",message:"Syntax Error on line "+f,index:b,filename:e.filename,line:f,column:S,extract:[l[f-2],l[f-1],l[f]]}}this.imports.queue.length>0?L=function(e){e=p||e,e?r(e):r(null,i)}:r(p,i)},parsers:{primary:function(){var e,t=[];while((e=o(this.mixin.definition)||o(this.rule)||o(this.ruleset)||o(this.mixin.call)||o(this.comment)||o(this.directive))||o(/^[\s\n]+/)||o(/^;+/))e&&t.push(e);return t},comment:function(){var e;if(y.charAt(b)!=="/")return;if(y.charAt(b+1)==="/")return new g.Comment(o(/^\/\/.*/),!0);if(e=o(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))return new g.Comment(e)},entities:{quoted:function(){var e,t=b,n;y.charAt(t)==="~"&&(t++,n=!0);if(y.charAt(t)!=='"'&&y.charAt(t)!=="'")return;n&&o("~");if(e=o(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/))return new g.Quoted(e[0],e[1]||e[2],n)},keyword:function(){var e;if(e=o(/^[_A-Za-z-][_A-Za-z0-9-]*/))return g.colors.hasOwnProperty(e)?new g.Color(g.colors[e].slice(1)):new g.Keyword(e)},call:function(){var t,n,r,i,s=b;if(!(t=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(T[w])))return;t=t[1],n=t.toLowerCase();if(n==="url")return null;b+=t.length;if(n==="alpha"){i=o(this.alpha);if(typeof i!="undefined")return i}o("("),r=o(this.entities.arguments);if(!o(")"))return;if(t)return new g.Call(t,r,s,e.filename)},arguments:function(){var e=[],t;while(t=o(this.entities.assignment)||o(this.expression)){e.push(t);if(!o(","))break}return e},literal:function(){return o(this.entities.ratio)||o(this.entities.dimension)||o(this.entities.color)||o(this.entities.quoted)||o(this.entities.unicodeDescriptor)},assignment:function(){var e,t;if((e=o(/^\w+(?=\s?=)/i))&&o("=")&&(t=o(this.entity)))return new g.Assignment(e,t)},url:function(){var t;if(y.charAt(b)!=="u"||!o(/^url\(/))return;return t=o(this.entities.quoted)||o(this.entities.variable)||o(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",a(")"),new g.URL(t.value!=null||t instanceof g.Variable?t:new g.Anonymous(t),e.rootpath)},variable:function(){var t,n=b;if(y.charAt(b)==="@"&&(t=o(/^@@?[\w-]+/)))return new g.Variable(t,n,e.filename)},variableCurly:function(){var t,n,r=b;if(y.charAt(b)==="@"&&(n=o(/^@\{([\w-]+)\}/)))return new g.Variable("@"+n[1],r,e.filename)},color:function(){var e;if(y.charAt(b)==="#"&&(e=o(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)))return new g.Color(e[1])},dimension:function(){var e,t=y.charCodeAt(b);if(t>57||t<43||t===47||t==44)return;if(e=o(/^([+-]?\d*\.?\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn|dpi|dpcm|dppx|rem|vw|vh|vmin|vm|ch)?/))return new g.Dimension(e[1],e[2])},ratio:function(){var e,t=y.charCodeAt(b);if(t>57||t<48)return;if(e=o(/^(\d+\/\d+)/))return new g.Ratio(e[1])},unicodeDescriptor:function(){var e;if(e=o(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))return new g.UnicodeDescriptor(e[0])},javascript:function(){var e,t=b,n;y.charAt(t)==="~"&&(t++,n=!0);if(y.charAt(t)!=="`")return;n&&o("~");if(e=o(/^`([^`]*)`/))return new g.JavaScript(e[1],b,n)}},variable:function(){var e;if(y.charAt(b)==="@"&&(e=o(/^(@[\w-]+)\s*:/)))return e[1]},shorthand:function(){var e,n;if(!l(/^[@\w.%-]+\/[@\w.-]+/))return;t();if((e=o(this.entity))&&o("/")&&(n=o(this.entity)))return new g.Shorthand(e,n);r()},mixin:{call:function(){var n=[],i,s,u=[],c=[],h,p,d,v,m,w,E,S=b,x=y.charAt(b),T,N,C=!1;if(x!=="."&&x!=="#")return;t();while(i=o(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/))n.push(new g.Element(s,i,b)),s=o(">");if(o("(")){m=[];while(d=o(this.expression)){v=null,N=d;if(d.value.length==1){var k=d.value[0];k instanceof g.Variable&&o(":")&&(m.length>0&&(w&&f("Cannot mix ; and , as delimiter types"),E=!0),N=a(this.expression),v=T=k.name)}m.push(N),c.push({name:v,value:N});if(o(","))continue;if(o(";")||w)E&&f("Cannot mix ; and , as delimiter types"),w=!0,m.length>1&&(N=new g.Value(m)),u.push({name:T,value:N}),T=null,m=[],E=!1}a(")")}h=w?u:c,o(this.important)&&(C=!0);if(n.length>0&&(o(";")||l("}")))return new g.mixin.Call(n,h,S,e.filename,C);r()},definition:function(){var e,n=[],i,s,u,f,c,h=!1;if(y.charAt(b)!=="."&&y.charAt(b)!=="#"||l(/^[^{]*\}/))return;t();if(i=o(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){e=i[1];do{o(this.comment);if(y.charAt(b)==="."&&o(/^\.{3}/)){h=!0,n.push({variadic:!0});break}if(!(u=o(this.entities.variable)||o(this.entities.literal)||o(this.entities.keyword)))break;if(u instanceof g.Variable)if(o(":"))f=a(this.expression,"expected expression"),n.push({name:u.name,value:f});else{if(o(/^\.{3}/)){n.push({name:u.name,variadic:!0}),h=!0;break}n.push({name:u.name})}else n.push({value:u})}while(o(",")||o(";"));o(")")||(x=b,r()),o(this.comment),o(/^when/)&&(c=a(this.conditions,"expected condition")),s=o(this.block);if(s)return new g.mixin.Definition(e,n,s,c,h);r()}}},entity:function(){return o(this.entities.literal)||o(this.entities.variable)||o(this.entities.url)||o(this.entities.call)||o(this.entities.keyword)||o(this.entities.javascript)||o(this.comment)},end:function(){return o(";")||l("}")},alpha:function(){var e;if(!o(/^\(opacity=/i))return;if(e=o(/^\d+/)||o(this.entities.variable))return a(")"),new g.Alpha(e)},element:function(){var e,t,n,r;n=o(this.combinator),e=o(/^(?:\d+\.\d+|\d+)%/)||o(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||o("*")||o("&")||o(this.attribute)||o(/^\([^()@]+\)/)||o(/^[\.#](?=@)/)||o(this.entities.variableCurly),e||o("(")&&(r=o(this.entities.variableCurly)||o(this.entities.variable)||o(this.selector))&&o(")")&&(e=new g.Paren(r));if(e)return new g.Element(n,e,b)},combinator:function(){var e,t=y.charAt(b);if(t===">"||t==="+"||t==="~"||t==="|"){b++;while(y.charAt(b).match(/\s/))b++;return new g.Combinator(t)}return y.charAt(b-1).match(/\s/)?new g.Combinator(" "):new g.Combinator(null)},selector:function(){var e,t,n=[],r,i;if(o("("))return e=o(this.entity),o(")")?new g.Selector([new g.Element("",e,b)]):null;while(t=o(this.element)){r=y.charAt(b),n.push(t);if(r==="{"||r==="}"||r===";"||r===","||r===")")break}if(n.length>0)return new g.Selector(n)},attribute:function(){var e="",t,n,r;if(!o("["))return;if(t=o(/^(?:[_A-Za-z0-9-]|\\.)+/)||o(this.entities.quoted))(r=o(/^[|~*$^]?=/))&&(n=o(this.entities.quoted)||o(/^[\w-]+/))?e=[t,r,n.toCSS?n.toCSS():n].join(""):e=t;if(!o("]"))return;if(e)return"["+e+"]"},block:function(){var e;if(o("{")&&(e=o(this.primary))&&o("}"))return e},ruleset:function(){var n=[],i,s,u,a;t(),e.dumpLineNumbers&&(a=d(b,y,e));while(i=o(this.selector)){n.push(i),o(this.comment);if(!o(","))break;o(this.comment)}if(n.length>0&&(s=o(this.block))){var f=new g.Ruleset(n,s,e.strictImports);return e.dumpLineNumbers&&(f.debugInfo=a),f}x=b,r()},rule:function(){var e,n,i=y.charAt(b),s,u;t();if(i==="."||i==="#"||i==="&")return;if(e=o(this.variable)||o(this.property)){e.charAt(0)!="@"&&(u=/^([^@+\/'"*`(;{}-]*);/.exec(T[w]))?(b+=u[0].length-1,n=new g.Anonymous(u[1])):e==="font"?n=o(this.font):n=o(this.value),s=o(this.important);if(n&&o(this.end))return new g.Rule(e,n,s,S);x=b,r()}},"import":function(){var n,i,s=b;t();var u=o(/^@import(?:-(once))?\s+/);if(u&&(n=o(this.entities.quoted)||o(this.entities.url))){i=o(this.mediaFeatures);if(o(";"))return new g.Import(n,A,i,u[1]==="once",s,e.rootpath)}r()},mediaFeature:function(){var e,t,n=[];do if(e=o(this.entities.keyword))n.push(e);else if(o("(")){t=o(this.property),e=o(this.entity);if(!o(")"))return null;if(t&&e)n.push(new g.Paren(new g.Rule(t,e,null,b,!0)));else{if(!e)return null;n.push(new g.Paren(e))}}while(e);if(n.length>0)return new g.Expression(n)},mediaFeatures:function(){var e,t=[];do if(e=o(this.mediaFeature)){t.push(e);if(!o(","))break}else if(e=o(this.entities.variable)){t.push(e);if(!o(","))break}while(e);return t.length>0?t:null},media:function(){var t,n,r,i;e.dumpLineNumbers&&(i=d(b,y,e));if(o(/^@media/)){t=o(this.mediaFeatures);if(n=o(this.block))return r=new g.Media(n,t),e.dumpLineNumbers&&(r.debugInfo=i),r}},directive:function(){var n,i,s,u,a,f,l,c,h,p;if(y.charAt(b)!=="@")return;if(i=o(this["import"])||o(this.media))return i;t(),n=o(/^@[a-z-]+/);if(!n)return;l=n,n.charAt(1)=="-"&&n.indexOf("-",2)>0&&(l="@"+n.slice(n.indexOf("-",2)+1));switch(l){case"@font-face":c=!0;break;case"@viewport":case"@top-left":case"@top-left-corner":case"@top-center":case"@top-right":case"@top-right-corner":case"@bottom-left":case"@bottom-left-corner":case"@bottom-center":case"@bottom-right":case"@bottom-right-corner":case"@left-top":case"@left-middle":case"@left-bottom":case"@right-top":case"@right-middle":case"@right-bottom":c=!0;break;case"@page":case"@document":case"@supports":case"@keyframes":c=!0,h=!0;break;case"@namespace":p=!0}h&&(n+=" "+(o(/^[^{]+/)||"").trim());if(c){if(s=o(this.block))return new g.Directive(n,s)}else if((i=p?o(this.expression):o(this.entity))&&o(";")){var v=new g.Directive(n,i);return e.dumpLineNumbers&&(v.debugInfo=d(b,y,e)),v}r()},font:function(){var e=[],t=[],n,r,i,s;while(s=o(this.shorthand)||o(this.entity))t.push(s);e.push(new g.Expression(t));if(o(","))while(s=o(this.expression)){e.push(s);if(!o(","))break}return new g.Value(e)},value:function(){var e,t=[],n;while(e=o(this.expression)){t.push(e);if(!o(","))break}if(t.length>0)return new g.Value(t)},important:function(){if(y.charAt(b)==="!")return o(/^! *important/)},sub:function(){var e;if(o("(")&&(e=o(this.expression))&&o(")"))return e},multiplication:function(){var e,t,n,r;if(e=o(this.operand)){while(!l(/^\/[*\/]/)&&(n=o("/")||o("*"))&&(t=o(this.operand)))r=new g.Operation(n,[r||e,t]);return r||e}},addition:function(){var e,t,n,r;if(e=o(this.multiplication)){while((n=o(/^[-+]\s+/)||!s(y.charAt(b-1))&&(o("+")||o("-")))&&(t=o(this.multiplication)))r=new g.Operation(n,[r||e,t]);return r||e}},conditions:function(){var e,t,n=b,r;if(e=o(this.condition)){while(o(",")&&(t=o(this.condition)))r=new g.Condition("or",r||e,t,n);return r||e}},condition:function(){var e,t,n,r,i=b,s=!1;o(/^not/)&&(s=!0),a("(");if(e=o(this.addition)||o(this.entities.keyword)||o(this.entities.quoted))return(r=o(/^(?:>=|=<|[<=>])/))?(t=o(this.addition)||o(this.entities.keyword)||o(this.entities.quoted))?n=new g.Condition(r,e,t,i,s):f("expected expression"):n=new g.Condition("=",e,new g.Keyword("true"),i,s),a(")"),o(/^and/)?new g.Condition("and",n,o(this.condition)):n},operand:function(){var e,t=y.charAt(b+1);y.charAt(b)==="-"&&(t==="@"||t==="(")&&(e=o("-"));var n=o(this.sub)||o(this.entities.dimension)||o(this.entities.color)||o(this.entities.variable)||o(this.entities.call);return e?new g.Operation("*",[new g.Dimension(-1),n]):n},expression:function(){var e,t,n=[],r;while(e=o(this.addition)||o(this.entity))n.push(e);if(n.length>0)return new g.Expression(n)},property:function(){var e;if(e=o(/^(\*?-?[_a-z0-9-]+)\s*:/))return e[1]}}}};if(m.mode==="browser"||m.mode==="rhino")m.Parser.importer=function(e,t,n,r){!/^([a-z-]+:)?\//.test(e)&&t.length>0&&(e=t[0]+e),a({href:e,title:e,type:r.mime,contents:r.contents,files:r.files,rootpath:r.rootpath,entryPath:r.entryPath,relativeUrls:r.relativeUrls},function(e,i,s,o,u,a){e&&typeof r.errback=="function"?r.errback.call(null,a,t,n,r):n.call(null,e,i,a)},!0)};(function(e){function t(t){return e.functions.hsla(t.h,t.s,t.l,t.a)}function n(t,n){return t instanceof e.Dimension&&t.unit=="%"?parseFloat(t.value*n/100):r(t)}function r(t){if(t instanceof e.Dimension)return parseFloat(t.unit=="%"?t.value/100:t.value);if(typeof t=="number")return t;throw{error:"RuntimeError",message:"color functions take numbers as parameters"}}function i(e){return Math.min(1,Math.max(0,e))}e.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(t,i,s,o){var u=[t,i,s].map(function(e){return n(e,256)});return o=r(o),new e.Color(u,o)},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,n,i){function s(e){return e=e<0?e+1:e>1?e-1:e,e*6<1?u+(o-u)*e*6:e*2<1?o:e*3<2?u+(o-u)*(2/3-e)*6:u}e=r(e)%360/360,t=r(t),n=r(n),i=r(i);var o=n<=.5?n*(t+1):n+t-n*t,u=n*2-o;return this.rgba(s(e+1/3)*255,s(e)*255,s(e-1/3)*255,i)},hsv:function(e,t,n){return this.hsva(e,t,n,1)},hsva:function(e,t,n,i){e=r(e)%360/360*360,t=r(t),n=r(n),i=r(i);var s,o;s=Math.floor(e/60%6),o=e/60-s;var u=[n,n*(1-t),n*(1-o*t),n*(1-(1-o)*t)],a=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return this.rgba(u[a[s][0]]*255,u[a[s][1]]*255,u[a[s][2]]*255,i)},hue:function(t){return new e.Dimension(Math.round(t.toHSL().h))},saturation:function(t){return new e.Dimension(Math.round(t.toHSL().s*100),"%")},lightness:function(t){return new e.Dimension(Math.round(t.toHSL().l*100),"%")},red:function(t){return new e.Dimension(t.rgb[0])},green:function(t){return new e.Dimension(t.rgb[1])},blue:function(t){return new e.Dimension(t.rgb[2])},alpha:function(t){return new e.Dimension(t.toHSL().a)},luma:function(t){return new e.Dimension(Math.round((.2126*(t.rgb[0]/255)+.7152*(t.rgb[1]/255)+.0722*(t.rgb[2]/255))*t.alpha*100),"%")},saturate:function(e,n){var r=e.toHSL();return r.s+=n.value/100,r.s=i(r.s),t(r)},desaturate:function(e,n){var r=e.toHSL();return r.s-=n.value/100,r.s=i(r.s),t(r)},lighten:function(e,n){var r=e.toHSL();return r.l+=n.value/100,r.l=i(r.l),t(r)},darken:function(e,n){var r=e.toHSL();return r.l-=n.value/100,r.l=i(r.l),t(r)},fadein:function(e,n){var r=e.toHSL();return r.a+=n.value/100,r.a=i(r.a),t(r)},fadeout:function(e,n){var r=e.toHSL();return r.a-=n.value/100,r.a=i(r.a),t(r)},fade:function(e,n){var r=e.toHSL();return r.a=n.value/100,r.a=i(r.a),t(r)},spin:function(e,n){var r=e.toHSL(),i=(r.h+n.value)%360;return r.h=i<0?360+i:i,t(r)},mix:function(t,n,r){r||(r=new e.Dimension(50));var i=r.value/100,s=i*2-1,o=t.toHSL().a-n.toHSL().a,u=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,a=1-u,f=[t.rgb[0]*u+n.rgb[0]*a,t.rgb[1]*u+n.rgb[1]*a,t.rgb[2]*u+n.rgb[2]*a],l=t.alpha*i+n.alpha*(1-i);return new e.Color(f,l)},greyscale:function(t){return this.desaturate(t,new e.Dimension(100))},contrast:function(e,t,n,r){return e.rgb?(typeof n=="undefined"&&(n=this.rgba(255,255,255,1)),typeof t=="undefined"&&(t=this.rgba(0,0,0,1)),typeof r=="undefined"?r=.43:r=r.value,(.2126*(e.rgb[0]/255)+.7152*(e.rgb[1]/255)+.0722*(e.rgb[2]/255))*e.alpha<r?n:t):null},e:function(t){return new e.Anonymous(t instanceof e.JavaScript?t.evaluated:t)},escape:function(t){return new e.Anonymous(encodeURI(t.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},"%":function(t){var n=Array.prototype.slice.call(arguments,1),r=t.value;for(var i=0;i<n.length;i++)r=r.replace(/%[sda]/i,function(e){var t=e.match(/s/i)?n[i].value:n[i].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(t):t});return r=r.replace(/%%/g,"%"),new e.Quoted('"'+r+'"',r)},unit:function(t,n){return new e.Dimension(t.value,n?n.toCSS():"")},round:function(e,t){var n=typeof t=="undefined"?0:t.value;return this._math(function(e){return e.toFixed(n)},e)},ceil:function(e){return this._math(Math.ceil,e)},floor:function(e){return this._math(Math.floor,e)},_math:function(t,n){if(n instanceof e.Dimension)return new e.Dimension(t(parseFloat(n.value)),n.unit);if(typeof n=="number")return t(n);throw{type:"Argument",message:"argument must be a number"}},argb:function(t){return new e.Anonymous(t.toARGB())},percentage:function(t){return new e.Dimension(t.value*100,"%")},color:function(t){if(t instanceof e.Quoted)return new e.Color(t.value.slice(1));throw{type:"Argument",message:"argument must be a string"}},iscolor:function(t){return this._isa(t,e.Color)},isnumber:function(t){return this._isa(t,e.Dimension)},isstring:function(t){return this._isa(t,e.Quoted)},iskeyword:function(t){return this._isa(t,e.Keyword)},isurl:function(t){return this._isa(t,e.URL)},ispixel:function(t){return t instanceof e.Dimension&&t.unit==="px"?e.True:e.False},ispercentage:function(t){return t instanceof e.Dimension&&t.unit==="%"?e.True:e.False},isem:function(t){return t instanceof e.Dimension&&t.unit==="em"?e.True:e.False},_isa:function(t,n){return t instanceof n?e.True:e.False},multiply:function(e,t){var n=e.rgb[0]*t.rgb[0]/255,r=e.rgb[1]*t.rgb[1]/255,i=e.rgb[2]*t.rgb[2]/255;return this.rgb(n,r,i)},screen:function(e,t){var n=255-(255-e.rgb[0])*(255-t.rgb[0])/255,r=255-(255-e.rgb[1])*(255-t.rgb[1])/255,i=255-(255-e.rgb[2])*(255-t.rgb[2])/255;return this.rgb(n,r,i)},overlay:function(e,t){var n=e.rgb[0]<128?2*e.rgb[0]*t.rgb[0]/255:255-2*(255-e.rgb[0])*(255-t.rgb[0])/255,r=e.rgb[1]<128?2*e.rgb[1]*t.rgb[1]/255:255-2*(255-e.rgb[1])*(255-t.rgb[1])/255,i=e.rgb[2]<128?2*e.rgb[2]*t.rgb[2]/255:255-2*(255-e.rgb[2])*(255-t.rgb[2])/255;return this.rgb(n,r,i)},softlight:function(e,t){var n=t.rgb[0]*e.rgb[0]/255,r=n+e.rgb[0]*(255-(255-e.rgb[0])*(255-t.rgb[0])/255-n)/255;n=t.rgb[1]*e.rgb[1]/255;var i=n+e.rgb[1]*(255-(255-e.rgb[1])*(255-t.rgb[1])/255-n)/255;n=t.rgb[2]*e.rgb[2]/255;var s=n+e.rgb[2]*(255-(255-e.rgb[2])*(255-t.rgb[2])/255-n)/255;return this.rgb(r,i,s)},hardlight:function(e,t){var n=t.rgb[0]<128?2*t.rgb[0]*e.rgb[0]/255:255-2*(255-t.rgb[0])*(255-e.rgb[0])/255,r=t.rgb[1]<128?2*t.rgb[1]*e.rgb[1]/255:255-2*(255-t.rgb[1])*(255-e.rgb[1])/255,i=t.rgb[2]<128?2*t.rgb[2]*e.rgb[2]/255:255-2*(255-t.rgb[2])*(255-e.rgb[2])/255;return this.rgb(n,r,i)},difference:function(e,t){var n=Math.abs(e.rgb[0]-t.rgb[0]),r=Math.abs(e.rgb[1]-t.rgb[1]),i=Math.abs(e.rgb[2]-t.rgb[2]);return this.rgb(n,r,i)},exclusion:function(e,t){var n=e.rgb[0]+t.rgb[0]*(255-e.rgb[0]-e.rgb[0])/255,r=e.rgb[1]+t.rgb[1]*(255-e.rgb[1]-e.rgb[1])/255,i=e.rgb[2]+t.rgb[2]*(255-e.rgb[2]-e.rgb[2])/255;return this.rgb(n,r,i)},average:function(e,t){var n=(e.rgb[0]+t.rgb[0])/2,r=(e.rgb[1]+t.rgb[1])/2,i=(e.rgb[2]+t.rgb[2])/2;return this.rgb(n,r,i)},negation:function(e,t){var n=255-Math.abs(255-t.rgb[0]-e.rgb[0]),r=255-Math.abs(255-t.rgb[1]-e.rgb[1]),i=255-Math.abs(255-t.rgb[2]-e.rgb[2]);return this.rgb(n,r,i)},tint:function(e,t){return this.mix(this.rgb(255,255,255),e,t)},shade:function(e,t){return this.mix(this.rgb(0,0,0),e,t)}}})(n("./tree")),function(e){e.colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(n("./tree")),function(e){e.Alpha=function(e){this.value=e},e.Alpha.prototype={toCSS:function(){return"alpha(opacity="+(this.value.toCSS?this.value.toCSS():this.value)+")"},eval:function(e){return this.value.eval&&(this.value=this.value.eval(e)),this}}}(n("../tree")),function(e){e.Anonymous=function(e){this.value=e.value||e},e.Anonymous.prototype={toCSS:function(){return this.value},eval:function(){return this},compare:function(e){if(!e.toCSS)return-1;var t=this.toCSS(),n=e.toCSS();return t===n?0:t<n?-1:1}}}(n("../tree")),function(e){e.Assignment=function(e,t){this.key=e,this.value=t},e.Assignment.prototype={toCSS:function(){return this.key+"="+(this.value.toCSS?this.value.toCSS():this.value)},eval:function(t){return this.value.eval?new e.Assignment(this.key,this.value.eval(t)):this}}}(n("../tree")),function(e){e.Call=function(e,t,n,r){this.name=e,this.args=t,this.index=n,this.filename=r},e.Call.prototype={eval:function(t){var n=this.args.map(function(e){return e.eval(t)}),r;if(this.name in e.functions)try{r=e.functions[this.name].apply(e.functions,n);if(r!=null)return r}catch(i){throw{type:i.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(i.message?": "+i.message:""),index:this.index,filename:this.filename}}return new e.Anonymous(this.name+"("+n.map(function(e){return e.toCSS(t)}).join(", ")+")")},toCSS:function(e){return this.eval(e).toCSS()}}}(n("../tree")),function(e){e.Color=function(e,t){Array.isArray(e)?this.rgb=e:e.length==6?this.rgb=e.match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=e.split("").map(function(e){return parseInt(e+e,16)}),this.alpha=typeof t=="number"?t:1},e.Color.prototype={eval:function(){return this},toCSS:function(){return this.alpha<1?"rgba("+this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(", ")+")":"#"+this.rgb.map(function(e){return e=Math.round(e),e=(e>255?255:e<0?0:e).toString(16),e.length===1?"0"+e:e}).join("")},operate:function(t,n){var r=[];n instanceof e.Color||(n=n.toColor());for(var i=0;i<3;i++)r[i]=e.operate(t,this.rgb[i],n.rgb[i]);return new e.Color(r,this.alpha+n.alpha)},toHSL:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,n=this.rgb[2]/255,r=this.alpha,i=Math.max(e,t,n),s=Math.min(e,t,n),o,u,a=(i+s)/2,f=i-s;if(i===s)o=u=0;else{u=a>.5?f/(2-i-s):f/(i+s);switch(i){case e:o=(t-n)/f+(t<n?6:0);break;case t:o=(n-e)/f+2;break;case n:o=(e-t)/f+4}o/=6}return{h:o*360,s:u,l:a,a:r}},toARGB:function(){var e=[Math.round(this.alpha*255)].concat(this.rgb);return"#"+e.map(function(e){return e=Math.round(e),e=(e>255?255:e<0?0:e).toString(16),e.length===1?"0"+e:e}).join("")},compare:function(e){return e.rgb?e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:-1:-1}}}(n("../tree")),function(e){e.Comment=function(e,t){this.value=e,this.silent=!!t},e.Comment.prototype={toCSS:function(e){return e.compress?"":this.value},eval:function(){return this}}}(n("../tree")),function(e){e.Condition=function(e,t,n,r,i){this.op=e.trim(),this.lvalue=t,this.rvalue=n,this.index=r,this.negate=i},e.Condition.prototype.eval=function(e){var t=this.lvalue.eval(e),n=this.rvalue.eval(e),r=this.index,i,i=function(e){switch(e){case"and":return t&&n;case"or":return t||n;default:if(t.compare)i=t.compare(n);else{if(!n.compare)throw{type:"Type",message:"Unable to perform comparison",index:r};i=n.compare(t)}switch(i){case-1:return e==="<"||e==="=<";case 0:return e==="="||e===">="||e==="=<";case 1:return e===">"||e===">="}}}(this.op);return this.negate?!i:i}}(n("../tree")),function(e){e.Dimension=function(e,t){this.value=parseFloat(e),this.unit=t||null},e.Dimension.prototype={eval:function(){return this},toColor:function(){return new e.Color([this.value,this.value,this.value])},toCSS:function(){var e=this.value+this.unit;return e},operate:function(t,n){return new e.Dimension(e.operate(t,this.value,n.value),this.unit||n.unit)},compare:function(t){return t instanceof e.Dimension?t.value>this.value?-1:t.value<this.value?1:t.unit&&this.unit!==t.unit?-1:0:-1}}}(n("../tree")),function(e){e.Directive=function(t,n){this.name=t,Array.isArray(n)?(this.ruleset=new e.Ruleset([],n),this.ruleset.allowImports=!0):this.value=n},e.Directive.prototype={toCSS:function(e,t){return this.ruleset?(this.ruleset.root=!0,this.name+(t.compress?"{":" {\n  ")+this.ruleset.toCSS(e,t).trim().replace(/\n/g,"\n  ")+(t.compress?"}":"\n}\n")):this.name+" "+this.value.toCSS()+";\n"},eval:function(t){var n=this;return this.ruleset&&(t.frames.unshift(this),n=new e.Directive(this.name),n.ruleset=this.ruleset.eval(t),t.frames.shift()),n},variable:function(t){return e.Ruleset.prototype.variable.call(this.ruleset,t)},find:function(){return e.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.ruleset)}}}(n("../tree")),function(e){e.Element=function(t,n,r){this.combinator=t instanceof e.Combinator?t:new e.Combinator(t),typeof n=="string"?this.value=n.trim():n?this.value=n:this.value="",this.index=r},e.Element.prototype.eval=function(t){return new e.Element(this.combinator,this.value.eval?this.value.eval(t):this.value,this.index)},e.Element.prototype.toCSS=function(e){var t=this.value.toCSS?this.value.toCSS(e):this.value;return t==""&&this.combinator.value.charAt(0)=="&"?"":this.combinator.toCSS(e||{})+t},e.Combinator=function(e){e===" "?this.value=" ":this.value=e?e.trim():""},e.Combinator.prototype.toCSS=function(e){return{"":""," ":" ",":":" :","+":e.compress?"+":" + ","~":e.compress?"~":" ~ ",">":e.compress?">":" > ","|":e.compress?"|":" | "}[this.value]}}(n("../tree")),function(e){e.Expression=function(e){this.value=e},e.Expression.prototype={eval:function(t){return this.value.length>1?new e.Expression(this.value.map(function(e){return e.eval(t)})):this.value.length===1?this.value[0].eval(t):this},toCSS:function(e){return this.value.map(function(t){return t.toCSS?t.toCSS(e):""}).join(" ")}}}(n("../tree")),function(e){e.Import=function(t,n,r,i,s,o){var u=this;this.once=i,this.index=s,this._path=t,this.features=r&&new e.Value(r),this.rootpath=o,t instanceof e.Quoted?this.path=/(\.[a-z]*$)|([\?;].*)$/.test(t.value)?t.value:t.value+".less":this.path=t.value.value||t.value,this.css=/css([\?;].*)?$/.test(this.path),this.css||n.push(this.path,function(t,n,r){t&&(t.index=s),r&&u.once&&(u.skip=r),u.root=n||new e.Ruleset([],[])})},e.Import.prototype={toCSS:function(e){var t=this.features?" "+this.features.toCSS(e):"";return this.css?(typeof this._path.value=="string"&&!/^(?:[a-z-]+:|\/)/.test(this._path.value)&&(this._path.value=this.rootpath+this._path.value),"@import "+this._path.toCSS()+t+";\n"):""},eval:function(t){var n,r=this.features&&this.features.eval(t);return this.skip?[]:this.css?this:(n=new e.Ruleset([],this.root.rules.slice(0)),n.evalImports(t),this.features?new e.Media(n.rules,this.features.value):n.rules)}}}(n("../tree")),function(e){e.JavaScript=function(e,t,n){this.escaped=n,this.expression=e,this.index=t},e.JavaScript.prototype={eval:function(t){var n,r=this,i={},s=this.expression.replace(/@\{([\w-]+)\}/g,function(n,i){return e.jsify((new e.Variable("@"+i,r.index)).eval(t))});try{s=new Function("return ("+s+")")}catch(o){throw{message:"JavaScript evaluation error: `"+s+"`",index:this.index}}for(var u in t.frames[0].variables())i[u.slice(1)]={value:t.frames[0].variables()[u].value,toJS:function(){return this.value.eval(t).toCSS()}};try{n=s.call(i)}catch(o){throw{message:"JavaScript evaluation error: '"+o.name+": "+o.message+"'",index:this.index}}return typeof n=="string"?new e.Quoted('"'+n+'"',n,this.escaped,this.index):Array.isArray(n)?new e.Anonymous(n.join(", ")):new e.Anonymous(n)}}}(n("../tree")),function(e){e.Keyword=function(e){this.value=e},e.Keyword.prototype={eval:function(){return this},toCSS:function(){return this.value},compare:function(t){return t instanceof e.Keyword?t.value===this.value?0:1:-1}},e.True=new e.Keyword("true"),e.False=new e.Keyword("false")}(n("../tree")),function(e){e.Media=function(t,n){var r=this.emptySelectors();this.features=new e.Value(n),this.ruleset=new e.Ruleset(r,t),this.ruleset.allowImports=!0},e.Media.prototype={toCSS:function(e,t){var n=this.features.toCSS(t);return this.ruleset.root=e.length===0||e[0].multiMedia,"@media "+n+(t.compress?"{":" {\n  ")+this.ruleset.toCSS(e,t).trim().replace(/\n/g,"\n  ")+(t.compress?"}":"\n}\n")},eval:function(t){t.mediaBlocks||(t.mediaBlocks=[],t.mediaPath=[]);var n=new e.Media([],[]);return this.debugInfo&&(this.ruleset.debugInfo=this.debugInfo,n.debugInfo=this.debugInfo),n.features=this.features.eval(t),t.mediaPath.push(n),t.mediaBlocks.push(n),t.frames.unshift(this.ruleset),n.ruleset=this.ruleset.eval(t),t.frames.shift(),t.mediaPath.pop(),t.mediaPath.length===0?n.evalTop(t):n.evalNested(t)},variable:function(t){return e.Ruleset.prototype.variable.call(this.ruleset,t)},find:function(){return e.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.ruleset)},emptySelectors:function(){var t=new e.Element("","&",0);return[new e.Selector([t])]},evalTop:function(t){var n=this;if(t.mediaBlocks.length>1){var r=this.emptySelectors();n=new e.Ruleset(r,t.mediaBlocks),n.multiMedia=!0}return delete t.mediaBlocks,delete t.mediaPath,n},evalNested:function(t){var n,r,i=t.mediaPath.concat([this]);for(n=0;n<i.length;n++)r=i[n].features instanceof e.Value?i[n].features.value:i[n].features,i[n]=Array.isArray(r)?r:[r];return this.features=new e.Value(this.permute(i).map(function(t){t=t.map(function(t){return t.toCSS?t:new e.Anonymous(t)});for(n=t.length-1;n>0;n--)t.splice(n,0,new e.Anonymous("and"));return new e.Expression(t)})),new e.Ruleset([],[])},permute:function(e){if(e.length===0)return[];if(e.length===1)return e[0];var t=[],n=this.permute(e.slice(1));for(var r=0;r<n.length;r++)for(var i=0;i<e[0].length;i++)t.push([e[0][i]].concat(n[r]));return t},bubbleSelectors:function(t){this.ruleset=new e.Ruleset(t.slice(0),[this.ruleset])}}}(n("../tree")),function(e){e.mixin={},e.mixin.Call=function(t,n,r,i,s){this.selector=new e.Selector(t),this.arguments=n,this.index=r,this.filename=i,this.important=s},e.mixin.Call.prototype={eval:function(t){var n,r,i,s=[],o=!1,u,a,f,l,c;i=this.arguments&&this.arguments.map(function(e){return{name:e.name,value:e.value.eval(t)}});for(u=0;u<t.frames.length;u++)if((n=t.frames[u].find(this.selector)).length>0){c=!0;for(a=0;a<n.length;a++){r=n[a],l=!1;for(f=0;f<t.frames.length;f++)if(!(r instanceof e.mixin.Definition)&&r===(t.frames[f].originalRuleset||t.frames[f])){l=!0;break}if(l)continue;if(r.matchArgs(i,t)){if(!r.matchCondition||r.matchCondition(i,t))try{Array.prototype.push.apply(s,r.eval(t,i,this.important).rules)}catch(h){throw{message:h.message,index:this.index,filename:this.filename,stack:h.stack}}o=!0}}if(o)return s}throw c?{type:"Runtime",message:"No matching definition was found for `"+this.selector.toCSS().trim()+"("+(i?i.map(function(e){var t="";return e.name&&(t+=e.name+":"),e.value.toCSS?t+=e.value.toCSS():t+="???",t}).join(", "):"")+")`",index:this.index,filename:this.filename}:{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.filename}}},e.mixin.Definition=function(t,n,r,i,s){this.name=t,this.selectors=[new e.Selector([new e.Element(null,t)])],this.params=n,this.condition=i,this.variadic=s,this.arity=n.length,this.rules=r,this._lookups={},this.required=n.reduce(function(e,t){return!t.name||t.name&&!t.value?e+1:e},0),this.parent=e.Ruleset.prototype,this.frames=[]},e.mixin.Definition.prototype={toCSS:function(){return""},variable:function(e){return this.parent.variable.call(this,e)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(t,n,r,i){var s=new e.Ruleset(null,[]),o,u,a=this.params.slice(0),f,l,c,h,p,d;if(r){r=r.slice(0);for(f=0;f<r.length;f++){u=r[f];if(h=u&&u.name){p=!1;for(l=0;l<a.length;l++)if(!i[l]&&h===a[l].name){i[l]=u.value.eval(t),s.rules.unshift(new e.Rule(h,u.value.eval(t))),p=!0;break}if(p){r.splice(f,1),f--;continue}throw{type:"Runtime",message:"Named argument for "+this.name+" "+r[f].name+" not found"}}}}d=0;for(f=0;f<a.length;f++){if(i[f])continue;u=r&&r[d];if(h=a[f].name)if(a[f].variadic&&r){o=[];for(l=d;l<r.length;l++)o.push(r[l].value.eval(t));s.rules.unshift(new e.Rule(h,(new e.Expression(o)).eval(t)))}else{c=u&&u.value;if(c)c=c.eval(t);else{if(!a[f].value)throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+r.length+" for "+this.arity+")"};c=a[f].value.eval(n)}s.rules.unshift(new e.Rule(h,c)),i[f]=c}if(a[f].variadic&&r)for(l=d;l<r.length;l++)i[l]=r[l].value.eval(t);d++}return s},eval:function(t,n,r){var i=[],s=this.frames.concat(t.frames),o=this.evalParams(t,{frames:s},n,i),u,a,f,l;return o.rules.unshift(new e.Rule("@arguments",(new e.Expression(i)).eval(t))),a=r?this.parent.makeImportant.apply(this).rules:this.rules.slice(0),l=(new e.Ruleset(null,a)).eval({frames:[this,o].concat(s)}),l.originalRuleset=this,l},matchCondition:function(e,t){return this.condition&&!this.condition.eval({frames:[this.evalParams(t,{frames:this.frames.concat(t.frames)},e,[])].concat(t.frames)})?!1:!0},matchArgs:function(e,t){var n=e&&e.length||0,r,i;if(!this.variadic){if(n<this.required)return!1;if(n>this.params.length)return!1;if(this.required>0&&n>this.params.length)return!1}r=Math.min(n,this.arity);for(var s=0;s<r;s++)if(!this.params[s].name&&!this.params[s].variadic&&e[s].value.eval(t).toCSS()!=this.params[s].value.eval(t).toCSS())return!1;return!0}}}(n("../tree")),function(e){e.Operation=function(e,t){this.op=e.trim(),this.operands=t},e.Operation.prototype.eval=function(t){var n=this.operands[0].eval(t),r=this.operands[1].eval(t),i;if(n instanceof e.Dimension&&r instanceof e.Color){if(this.op!=="*"&&this.op!=="+")throw{name:"OperationError",message:"Can't substract or divide a color from a number"};i=r,r=n,n=i}if(!n.operate)throw{name:"OperationError",message:"Operation on an invalid type"};return n.operate(this.op,r)},e.operate=function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}}}(n("../tree")),function(e){e.Paren=function(e){this.value=e},e.Paren.prototype={toCSS:function(e){return"("+this.value.toCSS(e)+")"},eval:function(t){return new e.Paren(this.value.eval(t))}}}(n("../tree")),function(e){e.Quoted=function(e,t,n,r){this.escaped=n,this.value=t||"",this.quote=e.charAt(0),this.index=r},e.Quoted.prototype={toCSS:function(){return this.escaped?this.value:this.quote+this.value+this.quote},eval:function(t){var n=this,r=this.value.replace(/`([^`]+)`/g,function(r,i){return(new e.JavaScript(i,n.index,!0)).eval(t).value}).replace(/@\{([\w-]+)\}/g,function(r,i){var s=(new e.Variable("@"+i,n.index)).eval(t);return s instanceof e.Quoted?s.value:s.toCSS()});return new e.Quoted(this.quote+r+this.quote,r,this.escaped,this.index)},compare:function(e){if(!e.toCSS)return-1;var t=this.toCSS(),n=e.toCSS();return t===n?0:t<n?-1:1}}}(n("../tree")),function(e){e.Ratio=function(e){this.value=e},e.Ratio.prototype={toCSS:function(e){return this.value},eval:function(){return this}}}(n("../tree")),function(e){e.Rule=function(t,n,r,i,s){this.name=t,this.value=n instanceof e.Value?n:new e.Value([n]),this.important=r?" "+r.trim():"",this.index=i,this.inline=s||!1,t.charAt(0)==="@"?this.variable=!0:this.variable=!1},e.Rule.prototype.toCSS=function(e){return this.variable?"":this.name+(e.compress?":":": ")+this.value.toCSS(e)+this.important+(this.inline?"":";")},e.Rule.prototype.eval=function(t){return new e.Rule(this.name,this.value.eval(t),this.important,this.index,this.inline)},e.Rule.prototype.makeImportant=function(){return new e.Rule(this.name,this.value,"!important",this.index,this.inline)},e.Shorthand=function(e,t){this.a=e,this.b=t},e.Shorthand.prototype={toCSS:function(e){return this.a.toCSS(e)+"/"+this.b.toCSS(e)},eval:function(){return this}}}(n("../tree")),function(e){e.Ruleset=function(e,t,n){this.selectors=e,this.rules=t,this._lookups={},this.strictImports=n},e.Ruleset.prototype={eval:function(t){var n=this.selectors&&this.selectors.map(function(e){return e.eval(t)}),r=new e.Ruleset(n,this.rules.slice(0),this.strictImports),i;r.originalRuleset=this,r.root=this.root,r.allowImports=this.allowImports,this.debugInfo&&(r.debugInfo=this.debugInfo),t.frames.unshift(r),(r.root||r.allowImports||!r.strictImports)&&r.evalImports(t);for(var s=0;s<r.rules.length;s++)r.rules[s]instanceof e.mixin.Definition&&(r.rules[s].frames=t.frames.slice(0));var o=t.mediaBlocks&&t.mediaBlocks.length||0;for(var s=0;s<r.rules.length;s++)r.rules[s]instanceof e.mixin.Call&&(i=r.rules[s].eval(t),r.rules.splice.apply(r.rules,[s,1].concat(i)),s+=i.length-1,r.resetCache());for(var s=0,u;s<r.rules.length;s++)u=r.rules[s],u instanceof e.mixin.Definition||(r.rules[s]=u.eval?u.eval(t):u);t.frames.shift();if(t.mediaBlocks)for(var s=o;s<t.mediaBlocks.length;s++)t.mediaBlocks[s].bubbleSelectors(n);return r},evalImports:function(t){var n,r;for(n=0;n<this.rules.length;n++)this.rules[n]instanceof e.Import&&(r=this.rules[n].eval(t),typeof r.length=="number"?(this.rules.splice.apply(this.rules,[n,1].concat(r)),n+=r.length-1):this.rules.splice(n,1,r),this.resetCache())},makeImportant:function(){return new e.Ruleset(this.selectors,this.rules.map(function(e){return e.makeImportant?e.makeImportant():e}),this.strictImports)},matchArgs:function(e){return!e||e.length===0},resetCache:function(){this._rulesets=null,this._variables=null,this._lookups={}},variables:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(t,n){return n instanceof e.Rule&&n.variable===!0&&(t[n.name]=n),t},{})},variable:function(e){return this.variables()[e]},rulesets:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(t){return t instanceof e.Ruleset||t instanceof e.mixin.Definition})},find:function(t,n){n=n||this;var r=[],i,s,o=t.toCSS();return o in this._lookups?this._lookups[o]:(this.rulesets().forEach(function(i){if(i!==n)for(var o=0;o<i.selectors.length;o++)if(s=t.match(i.selectors[o])){t.elements.length>i.selectors[o].elements.length?Array.prototype.push.apply(r,i.find(new e.Selector(t.elements.slice(1)),n)):r.push(i);break}}),this._lookups[o]=r)},toCSS:function(t,n){var r=[],i=[],s=[],o=[],u=[],a,f,l;this.root||this.joinSelectors(u,t,this.selectors);for(var c=0;c<this.rules.length;c++){l=this.rules[c];if(l.rules||l instanceof e.Media)o.push(l.toCSS(u,n));else if(l instanceof e.Directive){var h=l.toCSS(u,n);if(l.name==="@charset"){if(n.charset){l.debugInfo&&(o.push(e.debugInfo(n,l)),o.push((new e.Comment("/* "+h.replace(/\n/g,"")+" */\n")).toCSS(n)));continue}n.charset=!0}o.push(h)}else l instanceof e.Comment?l.silent||(this.root?o.push(l.toCSS(n)):i.push(l.toCSS(n))):l.toCSS&&!l.variable?i.push(l.toCSS(n)):l.value&&!l.variable&&i.push(l.value.toString())}o=o.join("");if(this.root)r.push(i.join(n.compress?"":"\n"));else if(i.length>0){f=e.debugInfo(n,this),a=u.map(function(e){return e.map(function(e){return e.toCSS(n)}).join("").trim()}).join(n.compress?",":",\n");for(var c=i.length-1;c>=0;c--)s.indexOf(i[c])===-1&&s.unshift(i[c]);i=s,r.push(f+a+(n.compress?"{":" {\n  ")+i.join(n.compress?"":"\n  ")+(n.compress?"}":"\n}\n"))}return r.push(o),r.join("")+(n.compress?"\n":"")},joinSelectors:function(e,t,n){for(var r=0;r<n.length;r++)this.joinSelector(e,t,n[r])},joinSelector:function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;for(i=0;i<r.elements.length;i++)f=r.elements[i],f.value==="&"&&(u=!0);if(!u){if(n.length>0)for(i=0;i<n.length;i++)t.push(n[i].concat(r));else t.push([r]);return}g=[],a=[[]];for(i=0;i<r.elements.length;i++){f=r.elements[i];if(f.value!=="&")g.push(f);else{y=[],g.length>0&&this.mergeElementsOnToSelectors(g,a);for(s=0;s<a.length;s++){l=a[s];if(n.length==0)l.length>0&&(l[0].elements=l[0].elements.slice(0),l[0].elements.push(new e.Element(f.combinator,"",0))),y.push(l);else for(o=0;o<n.length;o++)c=n[o],h=[],p=[],v=!0,l.length>0?(h=l.slice(0),m=h.pop(),d=new e.Selector(m.elements.slice(0)),v=!1):d=new e.Selector([]),c.length>1&&(p=p.concat(c.slice(1))),c.length>0&&(v=!1,d.elements.push(new e.Element(f.combinator,c[0].elements[0].value,0)),d.elements=d.elements.concat(c[0].elements.slice(1))),v||h.push(d),h=h.concat(p),y.push(h)}a=y,g=[]}}g.length>0&&this.mergeElementsOnToSelectors(g,a);for(i=0;i<a.length;i++)t.push(a[i])},mergeElementsOnToSelectors:function(t,n){var r,i;if(n.length==0){n.push([new e.Selector(t)]);return}for(r=0;r<n.length;r++)i=n[r],i.length>0?i[i.length-1]=new e.Selector(i[i.length-1].elements.concat(t)):i.push(new e.Selector(t))}}}(n("../tree")),function(e){e.Selector=function(e){this.elements=e},e.Selector.prototype.match=function(e){var t=this.elements,n=t.length,r,i,s,o;r=e.elements.slice(e.elements.length&&e.elements[0].value==="&"?1:0),i=r.length,s=Math.min(n,i);if(i===0||n<i)return!1;for(o=0;o<s;o++)if(t[o].value!==r[o].value)return!1;return!0},e.Selector.prototype.eval=function(t){return new e.Selector(this.elements.map(function(e){return e.eval(t)}))},e.Selector.prototype.toCSS=function(e){return this._css?this._css:(this.elements[0].combinator.value===""?this._css=" ":this._css="",this._css+=this.elements.map(function(t){return typeof t=="string"?" "+t.trim():t.toCSS(e)}).join(""),this._css)}}(n("../tree")),function(e){e.UnicodeDescriptor=function(e){this.value=e},e.UnicodeDescriptor.prototype={toCSS:function(e){return this.value},eval:function(){return this}}}(n("../tree")),function(e){e.URL=function(e,t){this.value=e,this.rootpath=t},e.URL.prototype={toCSS:function(){return"url("+this.value.toCSS()+")"},eval:function(t){var n=this.value.eval(t),r;return typeof n.value=="string"&&!/^(?:[a-z-]+:|\/)/.test(n.value)&&(r=this.rootpath,n.quote||(r=r.replace(/[\(\)'"\s]/g,function(e){return"\\"+e})),n.value=r+n.value),new e.URL(n,this.rootpath)}}}(n("../tree")),function(e){e.Value=function(e){this.value=e,this.is="value"},e.Value.prototype={eval:function(t){return this.value.length===1?this.value[0].eval(t):new e.Value(this.value.map(function(e){return e.eval(t)}))},toCSS:function(e){return this.value.map(function(t){return t.toCSS(e)}).join(e.compress?",":", ")}}}(n("../tree")),function(e){e.Variable=function(e,t,n){this.name=e,this.index=t,this.file=n},e.Variable.prototype={eval:function(t){var n,r,i=this.name;i.indexOf("@@")==0&&(i="@"+(new e.Variable(i.slice(1))).eval(t).value);if(this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+i,filename:this.file,index:this.index};this.evaluating=!0;if(n=e.find(t.frames,function(e){if(r=e.variable(i))return r.value.eval(t)}))return this.evaluating=!1,n;throw{type:"Name",message:"variable "+i+" is undefined",filename:this.file,index:this.index}}}}(n("../tree")),function(e){e.debugInfo=function(t,n){var r="";if(t.dumpLineNumbers&&!t.compress)switch(t.dumpLineNumbers){case"comments":r=e.debugInfo.asComment(n);break;case"mediaquery":r=e.debugInfo.asMediaQuery(n);break;case"all":r=e.debugInfo.asComment(n)+e.debugInfo.asMediaQuery(n)}return r},e.debugInfo.asComment=function(e){return"/* line "+e.debugInfo.lineNumber+", "+e.debugInfo.fileName+" */\n"},e.debugInfo.asMediaQuery=function(e){return"@media -sass-debug-info{filename{font-family:"+("file://"+e.debugInfo.fileName).replace(/[\/:.]/g,"\\$&")+"}line{font-family:\\00003"+e.debugInfo.lineNumber+"}}\n"},e.find=function(e,t){for(var n=0,r;n<e.length;n++)if(r=t.call(e,e[n]))return r;return null},e.jsify=function(e){return Array.isArray(e.value)&&e.value.length>1?"["+e.value.map(function(e){return e.toCSS(!1)}).join(", ")+"]":e.toCSS(!1)}}(n("./tree"));var b=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);m.env=m.env||(location.hostname=="127.0.0.1"||location.hostname=="0.0.0.0"||location.hostname=="localhost"||location.port.length>0||b?"development":"production"),m.async=m.async||!1,m.fileAsync=m.fileAsync||!1,m.poll=m.poll||(b?1e3:1500);if(m.functions)for(var w in m.functions)m.tree.functions[w]=m.functions[w];var E=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash);E&&(m.dumpLineNumbers=E[1]),m.watch=function(){return m.watchMode||(m.env="development",r()),this.watchMode=!0},m.unwatch=function(){return clearInterval(m.watchTimer),this.watchMode=!1},/!watch/.test(location.hash)&&m.watch();var S=null;if(m.env!="development")try{S=typeof e.localStorage=="undefined"?null:e.localStorage}catch(x){}var T=document.getElementsByTagName("link"),N=/^text\/(x-)?less$/;m.sheets=[];for(var C=0;C<T.length;C++)(T[C].rel==="stylesheet/less"||T[C].rel.match(/stylesheet/)&&T[C].type.match(N))&&m.sheets.push(T[C]);var k="";m.modifyVars=function(e){var t=k;for(name in e)t+=(name.slice(0,1)==="@"?"":"@")+name+": "+(e[name].slice(-1)===";"?e[name]:e[name]+";");(new m.Parser).parse(t,function(e,t){l(t.toCSS(),m.sheets[m.sheets.length-1])})},m.refresh=function(e){var t,n;t=n=new Date,s(function(e,r,i,s,o){o.local?d("loading "+s.href+" from cache."):(d("parsed "+s.href+" successfully."),l(r.toCSS(),s,o.lastModified)),d("css for "+s.href+" generated in "+(new Date-n)+"ms"),o.remaining===0&&d("css generated in "+(new Date-t)+"ms"),n=new Date},e),i()},m.refreshStyles=i,m.refresh(m.env==="development"),typeof define=="function"&&define.amd&&define("less",[],function(){return m})}(window);